<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>Pizza3 Usage/Class Examples</title>
<style>

body {
    font-family: 'Segoe UI', Arial, sans-serif; 
    margin: 0; 
    padding: 0; 
    line-height: 1.6; 
    background-color: #f9f9f9; 
    color: #333;
}
header {
    background: #4CAF50; 
    color: #fff; 
    padding: 10px;
    position: relative; /* For positioning the toggle button */
}
header h1 {
    margin: 0; 
    font-size: 1.5em;
    color: #fff; /* Explicitly set to white */
    padding-left: 50px; /* Space for the toggle button */
}
#content {
    display: flex;
    height: calc(100vh - 50px); /* Adjusted for header height */
    transition: all 0.3s ease; /* Enable transitions for smooth animations */
}
#nav {
    width: 300px; /* Set a fixed width */
    background: #fff;
    border-right: 1px solid #ddd;
    padding: 20px;
    overflow-y: auto;
    box-sizing: border-box;
    transition: width 0.3s ease, padding 0.3s ease; /* Transition for smooth animations */
    flex-shrink: 0; /* Prevent flexbox from shrinking */
}
#nav.collapsed {
    width: 0; /* Hide the sidebar completely */
    padding: 20px 0; /* Optionally adjust padding */
}
#main {
    flex: 1;
    padding: 20px;
    overflow-y: auto;
    box-sizing: border-box;
    transition: all 0.3s ease; /* Enable transitions for smooth animations */
}
header .toggle-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%); /* Center the button vertically */
    left: 10px; /* Place the button on the left */
    background-color: #4CAF50; /* Green background */
    border: none;
    color: white; /* Ensure the hamburger icon is white */
    padding: 10px 12px; /* Adjust padding for larger button */
    cursor: pointer;
    font-size: 1.2em; /* Increase font size for better visibility */
    border-radius: 4px;
    z-index: 1001; /* Ensure the button is above other elements */
}
header .toggle-btn:hover {
    background-color: #45a049;
}
header .toggle-btn kbd {
    font-family: 'Arial', sans-serif; /* Match the header font */
    color: white; /* Ensure the hamburger icon is white */
    font-size: 1.2em; /* Same size as the button text */
    background: none; /* Remove any background styling from <kbd> */
    border: none; /* Remove any borders from <kbd> */
}
h1 {
    font-size: 1.8em;
    color: #333;
}
h2 {
    color: #333; 
    border-bottom: 2px solid #4CAF50; 
    padding-bottom: 5px;
}
a {
    text-decoration: none; 
    color: #007BFF;
}
a:hover {
    text-decoration: underline;
}
ul {
    list-style-type: none; 
    padding-left: 0;
    margin: 0;
}
li {
    margin: 5px 0;
}
.folder-title {
    font-weight: bold; 
    color: #333; 
    padding: 5px 0;
    cursor: pointer;
}
.folder-content {
    margin-left: 20px;
    display: none; /* start collapsed */
}
.file {
    margin-left: 20px;
}
hr {
    margin: 20px 0; 
    border: 1px solid #ddd;
}
footer {
    font-size: 0.9em; 
    color: #666; 
    margin-top: 20px; 
    text-align: center;
}
/* Enhanced Table Styling with Banded Colors */
table {
    border-collapse: collapse;
    width: 100%;
}
th, td {
    border: 1px solid #ddd;
    padding: 8px;
}
th {
    background-color: #4CAF50;
    color: white;
}
tr:nth-child(even) {
    background-color: #f2f2f2; /* Light gray for even rows */
}
tr:nth-child(odd) {
    background-color: rgba(76, 175, 80, 0.1); /* Light green for odd rows */
}
/* Collapsible Code Section */
.collapsible {
    background-color: #f1f1f1;
    color: #333;
    cursor: pointer;
    padding: 10px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 1em;
}
.active, .collapsible:hover {
    background-color: #ddd;
}
.content {
    padding: 0 18px;
    display: none;
    overflow: hidden;
    background-color: #f9f9f9;
}
/* Minimal Syntax Highlighting */
.code {
    background-color: #f4f4f4;
    padding: 10px;
    border: 1px solid #ddd;
    overflow-x: auto;
    font-family: 'Courier New', Courier, monospace;
    color: #333;
}
.keyword {
    color: #007BFF;
    font-weight: bold;
}
.comment {
    color: #6a9955;
    font-style: italic;
}
.string {
    color: #a31515;
}

/* Responsive Design */
@media screen and (max-width: 768px) {
    #nav {
        position: absolute;
        left: 0;
        top: 50px; /* Height of the header */
        height: calc(100% - 50px);
        z-index: 1000;
    }
    #nav.collapsed {
        width: 0; /* Hide the sidebar completely */
        padding: 20px 0; /* Adjust padding */
    }
    #main {
        flex: 1;
    }
    /* Add overlay when sidebar is open on mobile */
    body.nav-open::before {
        content: "";
        position: fixed;
        top: 50px;
        left: 0;
        width: 100%;
        height: calc(100% - 50px);
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }
}


pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.code .hll { background-color: #ffffcc }
.code { background: #f8f8f8; }
.code .c { color: #3D7B7B; font-style: italic } /* Comment */
.code .err { border: 1px solid #FF0000 } /* Error */
.code .k { color: #008000; font-weight: bold } /* Keyword */
.code .o { color: #666666 } /* Operator */
.code .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.code .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.code .cp { color: #9C6500 } /* Comment.Preproc */
.code .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.code .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.code .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.code .gd { color: #A00000 } /* Generic.Deleted */
.code .ge { font-style: italic } /* Generic.Emph */
.code .gr { color: #E40000 } /* Generic.Error */
.code .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.code .gi { color: #008400 } /* Generic.Inserted */
.code .go { color: #717171 } /* Generic.Output */
.code .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.code .gs { font-weight: bold } /* Generic.Strong */
.code .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.code .gt { color: #0044DD } /* Generic.Traceback */
.code .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.code .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.code .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.code .kp { color: #008000 } /* Keyword.Pseudo */
.code .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.code .kt { color: #B00040 } /* Keyword.Type */
.code .m { color: #666666 } /* Literal.Number */
.code .s { color: #BA2121 } /* Literal.String */
.code .na { color: #687822 } /* Name.Attribute */
.code .nb { color: #008000 } /* Name.Builtin */
.code .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.code .no { color: #880000 } /* Name.Constant */
.code .nd { color: #AA22FF } /* Name.Decorator */
.code .ni { color: #717171; font-weight: bold } /* Name.Entity */
.code .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.code .nf { color: #0000FF } /* Name.Function */
.code .nl { color: #767600 } /* Name.Label */
.code .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.code .nt { color: #008000; font-weight: bold } /* Name.Tag */
.code .nv { color: #19177C } /* Name.Variable */
.code .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.code .w { color: #bbbbbb } /* Text.Whitespace */
.code .mb { color: #666666 } /* Literal.Number.Bin */
.code .mf { color: #666666 } /* Literal.Number.Float */
.code .mh { color: #666666 } /* Literal.Number.Hex */
.code .mi { color: #666666 } /* Literal.Number.Integer */
.code .mo { color: #666666 } /* Literal.Number.Oct */
.code .sa { color: #BA2121 } /* Literal.String.Affix */
.code .sb { color: #BA2121 } /* Literal.String.Backtick */
.code .sc { color: #BA2121 } /* Literal.String.Char */
.code .dl { color: #BA2121 } /* Literal.String.Delimiter */
.code .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.code .s2 { color: #BA2121 } /* Literal.String.Double */
.code .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.code .sh { color: #BA2121 } /* Literal.String.Heredoc */
.code .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.code .sx { color: #008000 } /* Literal.String.Other */
.code .sr { color: #A45A77 } /* Literal.String.Regex */
.code .s1 { color: #BA2121 } /* Literal.String.Single */
.code .ss { color: #19177C } /* Literal.String.Symbol */
.code .bp { color: #008000 } /* Name.Builtin.Pseudo */
.code .fm { color: #0000FF } /* Name.Function.Magic */
.code .vc { color: #19177C } /* Name.Variable.Class */
.code .vg { color: #19177C } /* Name.Variable.Global */
.code .vi { color: #19177C } /* Name.Variable.Instance */
.code .vm { color: #19177C } /* Name.Variable.Magic */
.code .il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body>
<header>
    <!-- Toggle Sidebar Button -->
    <button class='toggle-btn' id='toggleSidebar' aria-label='Toggle Sidebar' aria-expanded='false'>
        <kbd>&#9776;</kbd>
    </button>
    <h1>Pizza3 Documentation - Usage Examples</h1>
</header>
<div id='content'>
<div id='nav'>
<p><strong>Version:</strong> Pizza3 v.1.00</p>
<p><strong>Maintained by:</strong> INRAE\olivier.vitrac@agroparistech.fr</p>
<hr>
<ul>
<li class="folder">
<div class="folder-title" onclick="toggleFolder(this)">pizza</div>
<ul class="folder-content">
<ul>
<li class="file"><a href="#pizza_data3" onclick="loadDoc('pizza_data3')">data3.py</a></li>
<li class="file"><a href="#pizza_dforcefield" onclick="loadDoc('pizza_dforcefield')">dforcefield.py</a></li>
<li class="file"><a href="#pizza_dscript" onclick="loadDoc('pizza_dscript')">dscript.py</a></li>
<li class="file"><a href="#pizza_dump3" onclick="loadDoc('pizza_dump3')">dump3.py</a></li>
<li class="file"><a href="#pizza_forcefield" onclick="loadDoc('pizza_forcefield')">forcefield.py</a></li>
<li class="file"><a href="#pizza_generic" onclick="loadDoc('pizza_generic')">generic.py</a></li>
<li class="file"><a href="#pizza_group" onclick="loadDoc('pizza_group')">group.py</a></li>
<li class="file"><a href="#pizza_raster" onclick="loadDoc('pizza_raster')">raster.py</a></li>
<li class="file"><a href="#pizza_region" onclick="loadDoc('pizza_region')">region.py</a></li>
<li class="file"><a href="#pizza_script" onclick="loadDoc('pizza_script')">script.py</a></li>
<li class="folder">
<div class="folder-title" onclick="toggleFolder(this)">private</div>
<ul class="folder-content">
<ul>
<li class="file"><a href="#pizza_private_mstruct" onclick="loadDoc('pizza_private_mstruct')">mstruct.py</a></li>
<li class="file"><a href="#pizza_private_utils" onclick="loadDoc('pizza_private_utils')">utils.py</a></li>
</ul>
</ul>
</li>
</ul>
</ul>
</li>
</ul>

</div>
<div id='main'>
<div id="welcome" class="module-content" style="display:block;">

<h2>Welcome to Usage Class Examples</h2>
<p>Select a module in the left menu to view usage examples. These examples are not for production and are automatically extracted from the main section of each module.</p>
<p>Back to the <a href='index.html'>Python'Pizza3 documentation</a>.</p>
<p>When no module is selected, you see this welcome page. They are used to test classes with typical codes. The main section often serves as a testing script, example usage block, or self-contained test block. It's a way to demonstrate how the module's functionality works or to run simple unit tests and examples inline.</p>
<p>Generated on: 2025-01-08 19:03:36</p>

</div>

<div id="pizza_data3" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">datafile</span> <span class="o">=</span> <span class="s2">&quot;../data/play_data/data.play.lmp&quot;</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">(</span><span class="n">datafile</span><span class="p">)</span>
    <span class="n">Y</span> <span class="o">=</span> <span class="n">dump</span><span class="p">(</span><span class="s2">&quot;../data/play_data/dump.play.restartme&quot;</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">Y</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">step</span> <span class="o">=</span> <span class="mi">2000</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">data</span><span class="p">(</span><span class="n">Y</span><span class="p">,</span><span class="n">step</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;../tmp/data.myfirstrestart.lmp&quot;</span><span class="p">)</span>
</pre>
    </div>
    </div>
<div id="pizza_dforcefield" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>List available forcefields</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">dforcefield</span><span class="o">.</span><span class="n">list_forcefield_subclasses</span><span class="p">(</span><span class="n">printflag</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">additional_modules</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="c1"># we could add other modules</span>
</pre>
    </div>
    <p>We reuse a high-level forcefield</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">mywater</span> <span class="o">=</span> <span class="n">dforcefield</span><span class="p">(</span>
        <span class="n">base_class</span><span class="o">=</span><span class="s2">&quot;water&quot;</span><span class="p">,</span>
        <span class="n">userid</span> <span class="o">=</span> <span class="s2">&quot;my customized water&quot;</span><span class="p">,</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="mi">900</span><span class="p">,</span>
        <span class="n">q1</span> <span class="o">=</span> <span class="mf">0.1</span>
        <span class="p">)</span>
</pre>
    </div>
    <p>Test dynamic water class using ulsph as the base class</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="n">dynamic_water</span> <span class="o">=</span> <span class="n">dforcefield</span><span class="p">(</span>
        <span class="n">base_class</span><span class="o">=</span><span class="s1">&#39;ulsph&#39;</span><span class="p">,</span>
        <span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;dynamic_water&quot;</span><span class="p">,</span>
        <span class="n">USER</span><span class="o">=</span><span class="n">parameterforcefield</span><span class="p">(</span>
            <span class="n">rho</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
            <span class="n">c0</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">q1</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">Cp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">taitexponent</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>
            <span class="n">contact_scale</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
            <span class="n">contact_stiffness</span><span class="o">=</span><span class="s2">&quot;2.5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Water parameters: </span><span class="si">{</span><span class="n">dynamic_water</span><span class="o">.</span><span class="n">parameters</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Water name: </span><span class="si">{</span><span class="n">dynamic_water</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Water Cp: </span><span class="si">{</span><span class="n">dynamic_water</span><span class="o">.</span><span class="n">Cp</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">dynamic_water</span>
</pre>
    </div>
    <p>Test dynamic solidfood class using tlsph as the base class</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="n">dynamic_solidfood</span> <span class="o">=</span> <span class="n">dforcefield</span><span class="p">(</span>
        <span class="n">base_class</span><span class="o">=</span><span class="s1">&#39;tlsph&#39;</span><span class="p">,</span>
        <span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;dynamic_solidfood&quot;</span><span class="p">,</span>
</pre>
    </div>
    <p>USER=parameterforcefield( #&lt;--- note that USER is not used in this case</p>

    <button type="button" class="collapsible">Show Code Example 5</button>
    <div class="content">
    <pre class="code"><span class="n">rho</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
            <span class="n">c0</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">E</span><span class="o">=</span><span class="s2">&quot;5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">nu</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
            <span class="n">q1</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">q2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">Hg</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">Cp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">sigma_yield</span><span class="o">=</span><span class="s2">&quot;0.1*$</span><span class="si">{E}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">hardening</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">contact_scale</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
            <span class="n">contact_stiffness</span><span class="o">=</span><span class="s2">&quot;2.5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span>
</pre>
    </div>
    <p>)</p>

    <button type="button" class="collapsible">Show Code Example 6</button>
    <div class="content">
    <pre class="code"><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Solidfood parameters: </span><span class="si">{</span><span class="n">dynamic_solidfood</span><span class="o">.</span><span class="n">parameters</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Solidfood name: </span><span class="si">{</span><span class="n">dynamic_solidfood</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">dynamic_solidfood</span><span class="p">)</span>
</pre>
    </div>
    <p>Test dynamic saltTLSPH class using tlsph as the base class</p>

    <button type="button" class="collapsible">Show Code Example 7</button>
    <div class="content">
    <pre class="code"><span class="n">dynamic_salt</span> <span class="o">=</span> <span class="n">dforcefield</span><span class="p">(</span>
        <span class="n">base_class</span><span class="o">=</span><span class="s1">&#39;tlsph&#39;</span><span class="p">,</span>
        <span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;dynamic_salt&quot;</span><span class="p">,</span>
        <span class="n">USER</span><span class="o">=</span><span class="n">parameterforcefield</span><span class="p">(</span>
            <span class="n">rho</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
            <span class="n">c0</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">E</span><span class="o">=</span><span class="s2">&quot;5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">nu</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
            <span class="n">q1</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">q2</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span>
            <span class="n">Hg</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">Cp</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
            <span class="n">sigma_yield</span><span class="o">=</span><span class="s2">&quot;0.1*$</span><span class="si">{E}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="n">hardening</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">contact_scale</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
            <span class="n">contact_stiffness</span><span class="o">=</span><span class="s2">&quot;2.5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Salt TLSPH parameters: </span><span class="si">{</span><span class="n">dynamic_salt</span><span class="o">.</span><span class="n">parameters</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Salt TLSPH name: </span><span class="si">{</span><span class="n">dynamic_salt</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">dynamic_salt</span><span class="p">)</span>
</pre>
    </div>
    <p>Test dynamic rigidwall class using none as the base class</p>

    <button type="button" class="collapsible">Show Code Example 8</button>
    <div class="content">
    <pre class="code"><span class="n">dynamic_rigidwall</span> <span class="o">=</span> <span class="n">dforcefield</span><span class="p">(</span>
        <span class="n">base_class</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span>  <span class="c1"># Assuming a class `none` exists</span>
        <span class="n">beadtype</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;dynamic_rigidwall&quot;</span><span class="p">,</span>
        <span class="n">USER</span><span class="o">=</span><span class="n">parameterforcefield</span><span class="p">(</span>
            <span class="n">rho</span><span class="o">=</span><span class="mi">3000</span><span class="p">,</span>
            <span class="n">c0</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="n">contact_scale</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
            <span class="n">contact_stiffness</span><span class="o">=</span><span class="s2">&quot;2.5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rigidwall parameters: </span><span class="si">{</span><span class="n">dynamic_rigidwall</span><span class="o">.</span><span class="n">parameters</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Rigidwall name: </span><span class="si">{</span><span class="n">dynamic_rigidwall</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">dynamic_rigidwall</span><span class="p">)</span>
</pre>
    </div>
    <p>create a new food and save it on disk</p>

    <button type="button" class="collapsible">Show Code Example 9</button>
    <div class="content">
    <pre class="code"><span class="n">newfood</span> <span class="o">=</span> <span class="n">dynamic_solidfood</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">rho</span><span class="o">=</span><span class="mi">2100</span><span class="p">,</span><span class="n">q1</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">E</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;new food&quot;</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">newfood</span><span class="p">)</span>
    <span class="n">newfood</span><span class="o">.</span><span class="n">base_repr</span><span class="p">()</span>
    <span class="n">fname</span> <span class="o">=</span> <span class="n">newfood</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre>
    </div>
    <p>load again the same file</p>

    <button type="button" class="collapsible">Show Code Example 10</button>
    <div class="content">
    <pre class="code"><span class="n">newfood2</span> <span class="o">=</span> <span class="n">dforcefield</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fname</span><span class="p">)</span>
</pre>
    </div>
    <p>compare the content</p>

    <button type="button" class="collapsible">Show Code Example 11</button>
    <div class="content">
    <pre class="code"><span class="n">newfood</span><span class="o">.</span><span class="n">compare</span><span class="p">(</span><span class="n">newfood2</span><span class="p">,</span><span class="n">printflag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre>
    </div>
    <p>note that the variables are automatically identified and added to parameters if missing</p>

    <button type="button" class="collapsible">Show Code Example 12</button>
    <div class="content">
    <pre class="code"><span class="n">newfood</span><span class="o">.</span><span class="n">parameters</span> <span class="o">=</span> <span class="n">parameterforcefield</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">missingvars</span> <span class="o">=</span> <span class="n">newfood</span><span class="o">.</span><span class="n">missingVariables</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;updated newfood:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">newfood</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;missing variables in updated newfood:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">missingvars</span><span class="p">)</span>
</pre>
    </div>
    <p>compare the content</p>

    <button type="button" class="collapsible">Show Code Example 13</button>
    <div class="content">
    <pre class="code"><span class="n">newfood</span><span class="o">.</span><span class="n">compare</span><span class="p">(</span><span class="n">newfood2</span><span class="p">,</span><span class="n">printflag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre>
    </div>
    <p>check the parser</p>

    <button type="button" class="collapsible">Show Code Example 14</button>
    <div class="content">
    <pre class="code"><span class="n">content</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</pre>
    </div>
    <p>DFORCEFIELD SAVE FILE</p>

    <button type="button" class="collapsible">Show Code Example 15</button>
    <div class="content">
    <pre class="code"><span class="n">base_class</span><span class="o">=</span><span class="s2">&quot;tlsph&quot;</span>
<span class="n">beadtype</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">userid</span> <span class="o">=</span> <span class="s2">&quot;dynamic_water&quot;</span>
<span class="n">version</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">description</span><span class="p">:{</span><span class="n">forcefield</span><span class="o">=</span><span class="s2">&quot;LAMMPS:SMD&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;tlsph&quot;</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="s2">&quot;water&quot;</span><span class="p">}</span>
<span class="n">name</span><span class="p">:{</span><span class="n">forcefield</span><span class="o">=</span><span class="s2">&quot;LAMMPS:SMD&quot;</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="s2">&quot;water&quot;</span><span class="p">}</span>
<span class="n">rho</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">E</span> <span class="o">=</span> <span class="s2">&quot;5*$</span><span class="si">{c0}</span><span class="s2">^2*$</span><span class="si">{rho}</span><span class="s2">&quot;</span>
<span class="n">nu</span> <span class="o">=</span> <span class="mf">0.3</span>
</pre>
    </div>
    </div>
<div id="pizza_dscript" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>Usage example<br>-------------<br>Initialize a dscript object</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">S</span> <span class="o">=</span> <span class="n">dscript</span><span class="p">()</span>
</pre>
    </div>
    <p>Add script lines/items with placeholders for variables</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;instruction .... with substitution rules $</span><span class="si">{v1}</span><span class="s2">+$</span><span class="si">{var2}</span><span class="s2">&quot;</span>
    <span class="n">S</span><span class="p">[</span><span class="s1">&#39;alpha&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;another script template $</span><span class="si">{v3}</span><span class="s2">&quot;</span>
</pre>
    </div>
    <p>Set a custom attribute for a specific line</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">attribute1</span> <span class="o">=</span> <span class="kc">True</span>
</pre>
    </div>
    <p>Reorder script lines/items</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="n">T</span> <span class="o">=</span> <span class="n">S</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]</span>
</pre>
    </div>
    <p>Define global variables in DEFINITIONS</p>

    <button type="button" class="collapsible">Show Code Example 5</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">S</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mi">2</span>
</pre>
    </div>
    <p>Update a script line and enable evaluation of its content</p>

    <button type="button" class="collapsible">Show Code Example 6</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;$a+$b&quot;</span>
    <span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">eval</span> <span class="o">=</span> <span class="kc">True</span>
</pre>
    </div>
    <p>Set a line as mandatory (not facultative)</p>

    <button type="button" class="collapsible">Show Code Example 7</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">facultative</span> <span class="o">=</span> <span class="kc">False</span>
</pre>
    </div>
    <p>Access and print the content of specific script lines/items</p>

    <button type="button" class="collapsible">Show Code Example 8</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>       <span class="c1"># Outputs: instruction .... with substitution rules ${v1}+${var2}</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="s1">&#39;alpha&#39;</span><span class="p">])</span> <span class="c1"># Outputs: another script template ${v3}</span>
</pre>
    </div>
    <p>Access and print custom attributes</p>

    <button type="button" class="collapsible">Show Code Example 9</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">attribute1</span><span class="p">)</span>  <span class="c1"># Outputs: True</span>
</pre>
    </div>
    <p>Iterate through all script lines, printing their keys and content</p>

    <button type="button" class="collapsible">Show Code Example 10</button>
    <div class="content">
    <pre class="code"><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">S</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Key: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">, Content: </span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre>
    </div>
    <p>Retrieve and evaluate the content of a script line by its index</p>

    <button type="button" class="collapsible">Show Code Example 11</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="o">.</span><span class="n">get_content_by_index</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>  <span class="c1"># Retrieve without evaluation</span>
    <span class="n">S</span><span class="o">.</span><span class="n">get_content_by_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>         <span class="c1"># Retrieve with evaluation</span>
</pre>
    </div>
    <p>Access attributes of a specific script line by index</p>

    <button type="button" class="collapsible">Show Code Example 12</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="o">.</span><span class="n">get_attributes_by_index</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre>
    </div>
    <p>Apply conditions to the execution of a script line</p>

    <button type="button" class="collapsible">Show Code Example 13</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="s2">&quot;$a&gt;1&quot;</span>
    <span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">condeval</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">S</span><span class="o">.</span><span class="n">get_content_by_index</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Condition not met, may result in an empty string</span>
</pre>
    </div>
    <p>Update the condition and evaluate again</p>

    <button type="button" class="collapsible">Show Code Example 14</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="s2">&quot;$a&gt;0&quot;</span>
    <span class="n">S</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>  <span class="c1"># Executes and evaluates the line content</span>
</pre>
    </div>
    <p>Create multiple variables in DEFINITIONS if they don&#x27;t already exist</p>

    <button type="button" class="collapsible">Show Code Example 15</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="o">.</span><span class="n">createEmptyVariables</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">])</span>
</pre>
    </div>
    <p>Access and print all current definitions</p>

    <button type="button" class="collapsible">Show Code Example 16</button>
    <div class="content">
    <pre class="code"><span class="n">S</span><span class="o">.</span><span class="n">DEFINITIONS</span>
</pre>
    </div>
    <p>=====================================================<br>Production Example: LAMMPS Header Initialization<br>closely related to pizza.region.LammpsHeaderInit<br>=====================================================<br>Initialize a dscript object with a custom name</p>

    <button type="button" class="collapsible">Show Code Example 17</button>
    <div class="content">
    <pre class="code"><span class="n">R</span> <span class="o">=</span> <span class="n">dscript</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ProductionExample&quot;</span><span class="p">)</span>
</pre>
    </div>
    <p>Define global variables (DEFINITIONS) for the script</p>

    <button type="button" class="collapsible">Show Code Example 18</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">dimension</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;$si&quot;</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">boundary</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sm&quot;</span><span class="p">,</span> <span class="s2">&quot;sm&quot;</span><span class="p">,</span> <span class="s2">&quot;sm&quot;</span><span class="p">]</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">atom_style</span> <span class="o">=</span> <span class="s2">&quot;$smd&quot;</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">atom_modify</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;map&quot;</span><span class="p">,</span> <span class="s2">&quot;array&quot;</span><span class="p">]</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">comm_modify</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;vel&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">]</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">neigh_modify</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;every&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;delay&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;check&quot;</span><span class="p">,</span> <span class="s2">&quot;yes&quot;</span><span class="p">]</span>
    <span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">newton</span> <span class="o">=</span> <span class="s2">&quot;$off&quot;</span>
</pre>
    </div>
    <p>Define the script template, associating each line with a key</p>

    <button type="button" class="collapsible">Show Code Example 19</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>        <span class="o">=</span> <span class="s2">&quot;% $</span><span class="si">{comment}</span><span class="s2">&quot;</span>               <span class="c1"># line/item can be identied by numbers/names</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;dim&quot;</span><span class="p">]</span>    <span class="o">=</span> <span class="s2">&quot;dimension    $</span><span class="si">{dimension}</span><span class="s2">&quot;</span>  <span class="c1"># line/item identified as &#39;dim&#39;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;unit&quot;</span><span class="p">]</span>   <span class="o">=</span> <span class="s2">&quot;units        $</span><span class="si">{units}</span><span class="s2">&quot;</span>      <span class="c1"># line/item identified as &#39;unit&#39;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;bound&quot;</span><span class="p">]</span>  <span class="o">=</span> <span class="s2">&quot;boundary     $</span><span class="si">{boundary}</span><span class="s2">&quot;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;astyle&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;atom_style   $</span><span class="si">{atom_style}</span><span class="s2">&quot;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;amod&quot;</span><span class="p">]</span>   <span class="o">=</span> <span class="s2">&quot;atom_modify  $</span><span class="si">{atom_modify}</span><span class="s2">&quot;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;cmod&quot;</span><span class="p">]</span>   <span class="o">=</span> <span class="s2">&quot;comm_modify  $</span><span class="si">{comm_modify}</span><span class="s2">&quot;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;nmod&quot;</span><span class="p">]</span>   <span class="o">=</span> <span class="s2">&quot;neigh_modify $</span><span class="si">{neigh_modify}</span><span class="s2">&quot;</span>
    <span class="n">R</span><span class="p">[</span><span class="s2">&quot;newton&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;newton       $</span><span class="si">{newton}</span><span class="s2">&quot;</span>
</pre>
    </div>
    <p>Apply a condition to the &#x27;astyle&#x27; line<br>it will only be included if ${atom_style} is defined</p>

    <button type="button" class="collapsible">Show Code Example 20</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="p">[</span><span class="s2">&quot;astyle&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">condition</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{atom_style}</span><span class="s2">&quot;</span>
</pre>
    </div>
    <p>Update DEFINITIONS to unset the atom_style variable</p>

    <button type="button" class="collapsible">Show Code Example 21</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">DEFINITIONS</span><span class="o">.</span><span class="n">atom_style</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
</pre>
    </div>
    <p>Generate a script instance, overwriting the &#x27;units&#x27; variable and adding a comment</p>

    <button type="button" class="collapsible">Show Code Example 22</button>
    <div class="content">
    <pre class="code"><span class="n">sR</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s2">&quot;$lj&quot;</span><span class="p">,</span>  <span class="c1"># Use &quot;$&quot; to prevent immediate evaluation</span>
                  <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;$my first dynamic script&quot;</span><span class="p">)</span>
</pre>
    </div>
    <p>Execute the script to generate the final content</p>

    <button type="button" class="collapsible">Show Code Example 23</button>
    <div class="content">
    <pre class="code"><span class="n">ssR</span> <span class="o">=</span> <span class="n">sR</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
</pre>
    </div>
    <p>Print the generated script</p>

    <button type="button" class="collapsible">Show Code Example 24</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="n">ssR</span><span class="p">)</span>
</pre>
    </div>
    <p>Save the current script</p>

    <button type="button" class="collapsible">Show Code Example 25</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">overwrite</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre>
    </div>
    <p>Load again the same script and show the script</p>

    <button type="button" class="collapsible">Show Code Example 26</button>
    <div class="content">
    <pre class="code"><span class="n">T</span> <span class="o">=</span> <span class="n">dscript</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
    <span class="n">ssT</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">script</span><span class="p">(</span><span class="n">units</span><span class="o">=</span><span class="s2">&quot;$lj&quot;</span><span class="p">,</span>  <span class="c1"># Use &quot;$&quot; to prevent immediate evaluation</span>
                  <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;$my second dynamic script&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ssT</span><span class="p">)</span>
</pre>
    </div>
    <p>The script is defined here within a string<br>note that the first line should be: # DSCRIPT SAVE FILE</p>

    <button type="button" class="collapsible">Show Code Example 27</button>
    <div class="content">
    <pre class="code"><span class="n">myscript</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;# DSCRIPT SAVE FILE</span>
</pre>
    </div>
    <p>Global Parameters:<br>------------------<br>Define general settings for the script class.<br>This section is not mandatory.<br>Properties are defined within { }<br>They include<br>SECTIONS = [&quot;DYNAMIC&quot;] # the considered section names<br>section = 0            # the current section index,<br>position = 0           # the script  position order,<br>role = &quot;dscript instance&quot;,<br>description = &quot;dynamic script&quot;,<br>userid = &quot;dscript&quot;,<br>version = 0.1,<br>verbose = False</p>

    <button type="button" class="collapsible">Show Code Example 28</button>
    <div class="content">
    <pre class="code"><span class="p">{</span> <span class="c1"># a line starting with { indicates the begining of the section</span>
    <span class="n">SECTIONS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;INITIALIZATION&#39;</span><span class="p">,</span> <span class="s1">&#39;SIMULATION&#39;</span><span class="p">],</span> <span class="c1"># this is a comment</span>
    <span class="n">section</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="mi">0</span> <span class="p">}</span> <span class="c1"># note the closing } is mandatory</span>
</pre>
    </div>
    <p>DEFINITIONS (Define general settings for the script.)<br>-----------<br>All variables are defined in a Python way</p>

    <button type="button" class="collapsible">Show Code Example 29</button>
    <div class="content">
    <pre class="code"><span class="n">d</span> <span class="o">=</span> <span class="mi">3</span>                        <span class="c1"># d is a number and equals 3</span>
<span class="n">units</span> <span class="o">=</span> <span class="s2">&quot;$lj&quot;</span>                <span class="c1"># $ is used to block immediate execution in a string</span>
<span class="n">periodic</span> <span class="o">=</span> <span class="s2">&quot;$p&quot;</span>              <span class="c1"># $ is used to block immediate execution in a string</span>
<span class="n">dimension</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{d}</span><span class="s2">&quot;</span>           <span class="c1"># d is a variable</span>
<span class="n">boundary</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">]</span>   <span class="c1"># this a list (Python syntax)</span>
<span class="n">atom_style</span> <span class="o">=</span> <span class="s2">&quot;$atomic&quot;</span>
<span class="n">lattice</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fcc&quot;</span><span class="p">,</span> <span class="mf">3.52</span><span class="p">]</span>       <span class="c1"># this a list (Python syntax)</span>
<span class="n">region</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="s2">&quot;block&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span> <span class="c1"># this a list (Python syntax)</span>
<span class="n">create_box</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;box&quot;</span><span class="p">]</span>
<span class="n">create_atoms</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;box&quot;</span><span class="p">]</span>
<span class="n">mass</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">pair_style</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;lj/cut&quot;</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
<span class="n">pair_coeff</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">]</span>
<span class="n">velocity</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="s2">&quot;create&quot;</span><span class="p">,</span> <span class="mf">300.0</span><span class="p">,</span> <span class="mi">12345</span><span class="p">]</span>
<span class="n">fix</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="s2">&quot;nve&quot;</span><span class="p">]</span>
<span class="n">run</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">timestep</span> <span class="o">=</span> <span class="mf">0.001</span>
<span class="n">thermo</span> <span class="o">=</span> <span class="mi">100</span>
</pre>
    </div>
    <p>TEMPLATE:<br>---------<br>Provide a template for how these parameters should be formatted or used in the script.<br>The general syntax is:<br>KEY: INSTRUCTION<br>KEY can be numeric, alphanumeric<br>INSTRUCTION can be any LAMMPS command involving variables defined in the DEFINITION section or elsewhere</p>

    <button type="button" class="collapsible">Show Code Example 30</button>
    <div class="content">
    <pre class="code"><span class="n">units</span><span class="p">:</span> <span class="n">units</span> <span class="err">$</span><span class="p">{</span><span class="n">units</span><span class="p">}</span>     <span class="c1"># key = units, template = units ${units}</span>
<span class="n">dim</span><span class="p">:</span> <span class="n">dimension</span> <span class="err">$</span><span class="p">{</span><span class="n">dimension</span><span class="p">}</span>
<span class="n">bound</span><span class="p">:</span> <span class="n">boundary</span> <span class="err">$</span><span class="p">{</span><span class="n">boundary</span><span class="p">}</span>
<span class="n">astyle</span><span class="p">:</span> <span class="n">atom_style</span> <span class="err">$</span><span class="p">{</span><span class="n">atom_style</span><span class="p">}</span>
<span class="n">lattice</span><span class="p">:</span> <span class="n">lattice</span> <span class="err">$</span><span class="p">{</span><span class="n">lattice</span><span class="p">}</span>
<span class="n">region</span><span class="p">:</span> <span class="n">region</span> <span class="err">$</span><span class="p">{</span><span class="n">region</span><span class="p">}</span>
<span class="n">create_box</span><span class="p">:</span> <span class="n">create_box</span> <span class="err">$</span><span class="p">{</span><span class="n">create_box</span><span class="p">}</span>
<span class="n">create_atoms</span><span class="p">:</span> <span class="n">create_atoms</span> <span class="err">$</span><span class="p">{</span><span class="n">create_atoms</span><span class="p">}</span>
<span class="n">mass</span><span class="p">:</span> <span class="n">mass</span> <span class="err">$</span><span class="p">{</span><span class="n">mass</span><span class="p">}</span>
<span class="n">pair_style</span><span class="p">:</span> <span class="n">pair_style</span> <span class="err">$</span><span class="p">{</span><span class="n">pair_style</span><span class="p">}</span>
<span class="n">pair_coeff</span><span class="p">:</span> <span class="n">pair_coeff</span> <span class="err">$</span><span class="p">{</span><span class="n">pair_coeff</span><span class="p">}</span>
<span class="n">velocity</span><span class="p">:</span> <span class="n">velocity</span> <span class="err">$</span><span class="p">{</span><span class="n">velocity</span><span class="p">}</span>
<span class="n">fix</span><span class="p">:</span> <span class="n">fix</span> <span class="err">$</span><span class="p">{</span><span class="n">fix</span><span class="p">}</span>
<span class="n">run</span><span class="p">:</span> <span class="n">run</span> <span class="err">$</span><span class="p">{</span><span class="n">run</span><span class="p">}</span>
<span class="n">timestep</span><span class="p">:</span> <span class="n">timestep</span> <span class="err">$</span><span class="p">{</span><span class="n">timestep</span><span class="p">}</span>
<span class="n">thermo</span><span class="p">:</span> <span class="n">thermo</span> <span class="err">$</span><span class="p">{</span><span class="n">thermo</span><span class="p">}</span>
</pre>
    </div>
    <p>Attributes:<br>-----------<br>Each template line can have attributes (here default attributes, but the user can add more)<br>Default value between ()<br>facultative = True or (False) (remove the template line if True)<br>eval = True or (False) (evaluate the template line with eval() if True)<br>readonly True or (False) (prevent any subsequent modification() if True)<br>condition = any expression with variables<br>condeval = True or (False) (evaluate the condition with eval() if True)<br>detectvar = (True) or False (create variables in DEFINITIONS if True)</p>

    <button type="button" class="collapsible">Show Code Example 31</button>
    <div class="content">
    <pre class="code"><span class="n">units</span><span class="p">:</span> <span class="p">{</span><span class="n">facultative</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">eval</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{units}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">condeval</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">detectvar</span><span class="o">=</span><span class="kc">True</span><span class="p">}</span>
<span class="n">dim</span><span class="p">:</span> <span class="p">{</span><span class="n">facultative</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="nb">eval</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">condeval</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">detectvar</span><span class="o">=</span><span class="kc">True</span><span class="p">}</span>
</pre>
    </div>
    <p># write myscript to disk<br>myscriptfile = dscript.write(myscript)<br>print(f&quot;DSCRIPT SAVE FILE: {myscriptfile}&quot;)<br><br># load the script as a dscript object<br>myS = dscript.load(myscriptfile)<br><br># generate the corresponding script<br>myS.units.do()<br>smyS = myS.script()<br><br># Ececute the script and print it<br>ssmyS = smyS.do()<br>print(ssmyS)<br><br># The conversion of a string into a script<br># can be mediated via dscript.parsesyntax()<br># without using a temporary file<br>mytemplate = dscript.parsesyntax(myscript).script()<br>mytemplatetxt = mytemplate.do()<br>print(mytemplatetxt)<br><br><br># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>#       Beyond this line, the previous examples are tested with the new compact syntax<br>#       enabling to define a template-block with a single key/tag.<br>#       The intent is to accelerate scripting and readability.<br>#<br>#       IMPORTANT<br>#           In DSCRIPT SAVE FILE, a block uses a new syntax between square brackets &quot;[]&quot;<br>#               # TEMPLATE (number of items=1)<br>#               code: [<br>#               % ${comment}<br>#               dimension    ${dimension}<br>#               units        ${units}<br>#               boundary     ${boundary}<br>#               atom_style   ${atom_style}<br>#               atom_modify  ${atom_modify}<br>#               comm_modify  ${comm_modify}<br>#               neigh_modify ${neigh_modify}<br>#               newton       ${newton}<br>#     ]<br># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>#<br>#<br># =====================================================<br># Production Example version 2: compact version<br>#   using multiple lines/items template<br># =====================================================<br><br>R2 = dscript(name=&quot;ProductionExample2&quot;)<br><br># Define global variables (DEFINITIONS) for the script<br>R2.DEFINITIONS.dimension = 3<br>R2.DEFINITIONS.units = &quot;$si&quot;<br>R2.DEFINITIONS.boundary = [&quot;sm&quot;, &quot;sm&quot;, &quot;sm&quot;]<br>R2.DEFINITIONS.atom_modify = [&quot;map&quot;, &quot;array&quot;]<br>R2.DEFINITIONS.comm_modify = [&quot;vel&quot;, &quot;yes&quot;]<br>R2.DEFINITIONS.neigh_modify = [&quot;every&quot;, 10, &quot;delay&quot;, 0, &quot;check&quot;, &quot;yes&quot;]<br>R2.DEFINITIONS.newton = &quot;$off&quot;<br><br># Define the script template, associating each line with a key<br>R2[&quot;code&quot;] =</p>

    <button type="button" class="collapsible">Show Code Example 32</button>
    <div class="content">
    <pre class="code"><span class="o">%</span> <span class="err">$</span><span class="p">{</span><span class="n">comment</span><span class="p">}</span>               <span class="c1"># this comment will be preserved as it starts with %</span>
    <span class="n">dimension</span>    <span class="err">$</span><span class="p">{</span><span class="n">dimension</span><span class="p">}</span>  <span class="c1"># this comment will be deleted</span>
    <span class="n">units</span>        <span class="err">$</span><span class="p">{</span><span class="n">units</span><span class="p">}</span>
    <span class="n">boundary</span>     <span class="err">$</span><span class="p">{</span><span class="n">boundary</span><span class="p">}</span>
    <span class="n">atom_style</span>   <span class="err">$</span><span class="p">{</span><span class="n">atom_style</span><span class="p">}</span>
    <span class="n">atom_modify</span>  <span class="err">$</span><span class="p">{</span><span class="n">atom_modify</span><span class="p">}</span>
    <span class="n">comm_modify</span>  <span class="err">$</span><span class="p">{</span><span class="n">comm_modify</span><span class="p">}</span>
    <span class="n">neigh_modify</span> <span class="err">$</span><span class="p">{</span><span class="n">neigh_modify</span><span class="p">}</span>
    <span class="n">newton</span>       <span class="err">$</span><span class="p">{</span><span class="n">newton</span><span class="p">}</span>
</pre>
    </div>
    <p>write myscript to disk</p>

    <button type="button" class="collapsible">Show Code Example 33</button>
    <div class="content">
    <pre class="code"><span class="n">myscriptfile2</span> <span class="o">=</span> <span class="n">dscript</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">myscript2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;DSCRIPT SAVE FILE: </span><span class="si">{</span><span class="n">myscriptfile2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre>
    </div>
    <p>load the script as a dscript object</p>

    <button type="button" class="collapsible">Show Code Example 34</button>
    <div class="content">
    <pre class="code"><span class="n">myS2</span> <span class="o">=</span> <span class="n">dscript</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">myscriptfile2</span><span class="p">)</span>
</pre>
    </div>
    <p>generate the corresponding script</p>

    <button type="button" class="collapsible">Show Code Example 35</button>
    <div class="content">
    <pre class="code"><span class="n">smyS2</span> <span class="o">=</span> <span class="n">myS2</span><span class="o">.</span><span class="n">script</span><span class="p">()</span>
</pre>
    </div>
    <p>Ececute the script and print it</p>

    <button type="button" class="collapsible">Show Code Example 36</button>
    <div class="content">
    <pre class="code"><span class="n">ssmyS2</span> <span class="o">=</span> <span class="n">smyS2</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">ssmyS2</span><span class="p">)</span>
</pre>
    </div>
    <p>The conversion of a string into a script<br>can be mediated via dscript.parsesyntax()<br>without using a temporary file</p>

    <button type="button" class="collapsible">Show Code Example 37</button>
    <div class="content">
    <pre class="code"><span class="n">mytemplate2</span> <span class="o">=</span> <span class="n">dscript</span><span class="o">.</span><span class="n">parsesyntax</span><span class="p">(</span><span class="n">myscript2</span><span class="p">)</span><span class="o">.</span><span class="n">script</span><span class="p">()</span>
    <span class="n">mytemplatetxt2</span> <span class="o">=</span> <span class="n">mytemplate2</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">mytemplatetxt2</span><span class="p">)</span>
</pre>
    </div>
    <p>This flexible approach enables dynamic manipulation of simulation parameters.<br>The full TLSPH template is defined as a multi-line script in DSCRIPT format.<br>The following template was automatically generated by ChatGPT based on the<br>original LAMMPS TLSPH simulation script for elongating a 2D strip of linear<br>elastic material by pulling its ends apart.<br><br>Key variables (such as Young&#x27;s modulus, Poisson&#x27;s ratio, and mass density)<br>have been added to the DEFINITIONS section for dynamic substitution in the<br>template.<br><br>Read the synopsis of this module to learn how to instruct ChatGPT to generate<br>such templates.</p>

    <button type="button" class="collapsible">Show Code Example 38</button>
    <div class="content">
    <pre class="code"><span class="n">TLSPH_template</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;# DSCRIPT SAVE FILE</span>
</pre>
    </div>
    <p>TENSILE SUMULATION<br><br><br>TLSPH example: elongate a 2d strip of a linear elastic material py pulling its ends apart<br><br>unit sytem: GPa / mm / ms<br><br><br>Source:<br>GLOBAL PARAMETERS</p>

    <button type="button" class="collapsible">Show Code Example 39</button>
    <div class="content">
    <pre class="code"><span class="p">{</span>
    <span class="n">SECTIONS</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;INITIALIZE&#39;</span><span class="p">,</span> <span class="s1">&#39;CREATE_GEOMETRY&#39;</span><span class="p">,</span> <span class="s1">&#39;DISCRETIZATION&#39;</span><span class="p">,</span> <span class="s1">&#39;BOUNDARY_CONDITIONS&#39;</span><span class="p">,</span> <span class="s1">&#39;PHYSICS&#39;</span><span class="p">,</span> <span class="s1">&#39;OUTPUT&#39;</span><span class="p">,</span> <span class="s1">&#39;RUN&#39;</span><span class="p">],</span>
    <span class="n">section</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">position</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">role</span> <span class="o">=</span> <span class="s2">&quot;dscript instance&quot;</span><span class="p">,</span>
    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Advanced example based on ChatGPT translation&quot;</span><span class="p">,</span>
    <span class="n">userid</span> <span class="o">=</span> <span class="s2">&quot;ChatGPT&quot;</span><span class="p">,</span>
    <span class="n">version</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">}</span>
</pre>
    </div>
    <p>DEFINITIONS (number of definitions=12)</p>

    <button type="button" class="collapsible">Show Code Example 40</button>
    <div class="content">
    <pre class="code"><span class="n">E</span><span class="o">=</span><span class="mf">1.0</span>              <span class="c1"># Young&#39;s modulus</span>
<span class="n">nu</span><span class="o">=</span><span class="mf">0.3</span>             <span class="c1"># Poisson ratio</span>
<span class="n">rho</span><span class="o">=</span><span class="mf">1.0</span>            <span class="c1"># Initial mass density</span>
<span class="n">q1</span><span class="o">=</span><span class="mf">0.06</span>            <span class="c1"># Artificial viscosity linear coefficient</span>
<span class="n">q2</span><span class="o">=</span><span class="mf">0.0</span>             <span class="c1"># Artificial viscosity quadratic coefficient</span>
<span class="n">hg</span><span class="o">=</span><span class="mf">10.0</span>            <span class="c1"># Hourglass control coefficient</span>
<span class="n">cp</span><span class="o">=</span><span class="mf">1.0</span>             <span class="c1"># Heat capacity</span>
<span class="n">l0</span><span class="o">=</span><span class="mf">1.0</span>             <span class="c1"># Lattice spacing</span>
<span class="n">h</span><span class="o">=</span><span class="mf">2.01</span> <span class="o">*</span> <span class="err">$</span><span class="p">{</span><span class="n">l0</span><span class="p">}</span>     <span class="c1"># SPH smoothing kernel radius</span>
<span class="n">vol_one</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">l0</span><span class="p">}</span><span class="o">**</span><span class="mi">2</span>   <span class="c1"># Volume of one particle (unit thickness)</span>
<span class="n">vel0</span><span class="o">=</span><span class="mf">0.005</span>         <span class="c1"># Pull velocity</span>
<span class="n">skin</span><span class="o">=</span><span class="err">$</span><span class="p">{</span><span class="n">h</span><span class="p">}</span>          <span class="c1"># Verlet list range</span>
</pre>
    </div>
    <p>TEMPLATE (number of lines=8)</p>

    <button type="button" class="collapsible">Show Code Example 41</button>
    <div class="content">
    <pre class="code"><span class="n">initialize</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">dimension</span> <span class="mi">2</span>
    <span class="n">units</span> <span class="n">si</span>
    <span class="n">boundary</span> <span class="n">sm</span> <span class="n">sm</span> <span class="n">p</span>
    <span class="n">atom_style</span> <span class="n">smd</span>
    <span class="n">atom_modify</span> <span class="nb">map</span> <span class="n">array</span>
    <span class="n">comm_modify</span> <span class="n">vel</span> <span class="n">yes</span>
    <span class="n">neigh_modify</span> <span class="n">every</span> <span class="mi">10</span> <span class="n">delay</span> <span class="mi">0</span> <span class="n">check</span> <span class="n">yes</span>
    <span class="n">newton</span> <span class="n">off</span> <span class="p">]</span>
</pre>
    </div>
    <p>set region dimensions</p>

    <button type="button" class="collapsible">Show Code Example 42</button>
    <div class="content">
    <pre class="code"><span class="n">boxlength</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># variables can be defined and changed any time (only the last definition is retained)</span>
<span class="n">boxdepth</span> <span class="o">=</span>  <span class="mf">0.1</span> <span class="c1"># variables can be defined and changed any time (only the last definition is retained)</span>
<span class="n">create</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">lattice</span> <span class="n">sq</span> <span class="err">$</span><span class="p">{</span><span class="n">l0</span><span class="p">}</span>
    <span class="n">region</span> <span class="n">box</span> <span class="n">block</span> <span class="err">$</span><span class="p">{</span><span class="n">boxlength</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">boxlength</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">boxlength</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">boxlength</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">boxdepth</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">boxdepth</span><span class="p">}</span> <span class="n">units</span> <span class="n">box</span>
    <span class="n">create_box</span> <span class="mi">1</span> <span class="n">box</span>
    <span class="n">create_atoms</span> <span class="mi">1</span> <span class="n">box</span>
    <span class="n">group</span> <span class="n">tlsph</span> <span class="nb">type</span> <span class="mi">1</span> <span class="p">]</span>
<span class="n">discretization</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">neighbor</span> <span class="err">$</span><span class="p">{</span><span class="n">skin</span><span class="p">}</span> <span class="nb">bin</span>
    <span class="nb">set</span> <span class="n">group</span> <span class="nb">all</span> <span class="n">volume</span> <span class="err">$</span><span class="p">{</span><span class="n">vol_one</span><span class="p">}</span>
    <span class="nb">set</span> <span class="n">group</span> <span class="nb">all</span> <span class="n">smd_mass_density</span> <span class="err">$</span><span class="p">{</span><span class="n">rho</span><span class="p">}</span>
    <span class="nb">set</span> <span class="n">group</span> <span class="nb">all</span> <span class="n">diameter</span> <span class="err">$</span><span class="p">{</span><span class="n">h</span><span class="p">}</span> <span class="p">]</span>
<span class="n">boundary_conditions</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">region</span> <span class="n">top</span> <span class="n">block</span> <span class="n">EDGE</span> <span class="n">EDGE</span> <span class="mf">9.0</span> <span class="n">EDGE</span> <span class="n">EDGE</span> <span class="n">EDGE</span> <span class="n">units</span> <span class="n">box</span>
    <span class="n">region</span> <span class="n">bot</span> <span class="n">block</span> <span class="n">EDGE</span> <span class="n">EDGE</span> <span class="n">EDGE</span> <span class="mf">9.1</span> <span class="n">EDGE</span> <span class="n">EDGE</span> <span class="n">units</span> <span class="n">box</span>
    <span class="n">group</span> <span class="n">top</span> <span class="n">region</span> <span class="n">top</span>
    <span class="n">group</span> <span class="n">bot</span> <span class="n">region</span> <span class="n">bot</span>
    <span class="n">variable</span> <span class="n">vel_up</span> <span class="n">equal</span> <span class="err">$</span><span class="p">{</span><span class="n">vel0</span><span class="p">}</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span> <span class="n">exp</span><span class="p">(</span><span class="mf">0.01</span> <span class="o">*</span> <span class="n">time</span><span class="p">))</span>
    <span class="n">variable</span> <span class="n">vel_down</span> <span class="n">equal</span> <span class="n">v_vel_up</span>
    <span class="n">fix</span> <span class="n">veltop_fix</span> <span class="n">top</span> <span class="n">smd</span><span class="o">/</span><span class="n">setvelocity</span> <span class="mi">0</span> <span class="n">v_vel_up</span> <span class="mi">0</span>
    <span class="n">fix</span> <span class="n">velbot_fix</span> <span class="n">bot</span> <span class="n">smd</span><span class="o">/</span><span class="n">setvelocity</span> <span class="mi">0</span> <span class="n">v_vel_down</span> <span class="mi">0</span> <span class="p">]</span>
<span class="n">physics</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">pair_style</span> <span class="n">smd</span><span class="o">/</span><span class="n">tlsph</span>
    <span class="n">pair_coeff</span> <span class="mi">1</span> <span class="mi">1</span> <span class="o">*</span><span class="n">COMMON</span> <span class="err">$</span><span class="p">{</span><span class="n">rho</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">E</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">nu</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">q1</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">q2</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">hg</span><span class="p">}</span> <span class="err">$</span><span class="p">{</span><span class="n">cp</span><span class="p">}</span> <span class="o">&amp;</span>
    <span class="o">*</span><span class="n">STRENGTH_LINEAR</span> <span class="o">&amp;</span>
    <span class="o">*</span><span class="n">EOS_LINEAR</span> <span class="o">&amp;</span>
    <span class="o">*</span><span class="n">END</span> <span class="p">]</span>
<span class="n">output</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">compute</span> <span class="n">S</span> <span class="nb">all</span> <span class="n">smd</span><span class="o">/</span><span class="n">tlsph_stress</span>
    <span class="n">compute</span> <span class="n">E</span> <span class="nb">all</span> <span class="n">smd</span><span class="o">/</span><span class="n">tlsph_strain</span>
    <span class="n">compute</span> <span class="n">nn</span> <span class="nb">all</span> <span class="n">smd</span><span class="o">/</span><span class="n">tlsph_num_neighs</span>
    <span class="n">dump</span> <span class="n">dump_id</span> <span class="nb">all</span> <span class="n">custom</span> <span class="mi">10</span> <span class="n">dump</span><span class="o">.</span><span class="n">LAMMPS</span> <span class="nb">id</span> <span class="nb">type</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="n">vx</span> <span class="n">vy</span> <span class="n">vz</span> <span class="o">&amp;</span>
    <span class="n">c_S</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">c_S</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">c_S</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="n">c_nn</span> <span class="o">&amp;</span>
    <span class="n">c_E</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="n">c_E</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="n">c_E</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">&amp;</span>
    <span class="n">vx</span> <span class="n">vy</span> <span class="n">vz</span>
    <span class="n">dump_modify</span> <span class="n">dump_id</span> <span class="n">first</span> <span class="n">yes</span> <span class="p">]</span>
</pre>
    </div>
    <p>add filename</p>

    <button type="button" class="collapsible">Show Code Example 43</button>
    <div class="content">
    <pre class="code"><span class="n">outputfilename</span> <span class="o">=</span> <span class="s2">&quot;$stress_strain.dat&quot;</span> <span class="c1"># variables can be defined and changed any time</span>
<span class="n">status_output</span><span class="p">:</span> <span class="p">[</span>
    <span class="n">variable</span> <span class="n">stress</span> <span class="n">equal</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">f_velbot_fix</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">f_veltop_fix</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">20</span>
    <span class="n">variable</span> <span class="n">length</span> <span class="n">equal</span> <span class="n">xcm</span><span class="p">(</span><span class="n">top</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="o">-</span> <span class="n">xcm</span><span class="p">(</span><span class="n">bot</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
    <span class="n">variable</span> <span class="n">strain</span> <span class="n">equal</span> <span class="p">(</span><span class="n">v_length</span> <span class="o">-</span> <span class="err">$</span><span class="p">{</span><span class="n">length</span><span class="p">})</span> <span class="o">/</span> <span class="err">$</span><span class="p">{</span><span class="n">length</span><span class="p">}</span>
    <span class="n">fix</span> <span class="n">stress_curve</span> <span class="nb">all</span> <span class="nb">print</span> <span class="mi">10</span> <span class="s2">&quot;$</span><span class="si">{strain}</span><span class="s2"> $</span><span class="si">{stress}</span><span class="s2">&quot;</span> <span class="n">file</span> <span class="err">$</span><span class="p">{</span><span class="n">outputfilename</span><span class="p">}</span> <span class="n">screen</span> <span class="n">no</span>
    <span class="n">thermo</span> <span class="mi">100</span>
    <span class="n">thermo_style</span> <span class="n">custom</span> <span class="n">step</span> <span class="n">dt</span> <span class="n">f_dtfix</span> <span class="n">v_strain</span> <span class="p">]</span>
</pre>
    </div>
    <p>add runtime</p>

    <button type="button" class="collapsible">Show Code Example 44</button>
    <div class="content">
    <pre class="code"><span class="n">runtime</span> <span class="o">=</span> <span class="mi">2000</span>  <span class="c1"># variables can be defined and changed any time</span>
</pre>
    </div>
    <p>single liner template</p>

    <button type="button" class="collapsible">Show Code Example 45</button>
    <div class="content">
    <pre class="code"><span class="n">run_simulation</span><span class="p">:</span> <span class="n">run</span> <span class="err">$</span><span class="p">{</span><span class="n">runtime</span><span class="p">}</span>
</pre>
    </div>
    <p>change runtime</p>

    <button type="button" class="collapsible">Show Code Example 46</button>
    <div class="content">
    <pre class="code"><span class="n">runtime</span> <span class="o">=</span> <span class="mi">2500</span>  <span class="c1"># variables can be defined and changed any time (only the last definition is retained)</span>
</pre>
    </div>
    </div>
<div id="pizza_dump3" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>X = dump(&quot;../issues/time/dump.vwall_0.01&quot;)</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">f1</span> <span class="o">=</span> <span class="s2">&quot;../data/play_data/dump.play.1frames&quot;</span>
    <span class="n">f2</span> <span class="o">=</span> <span class="s2">&quot;../data/play_data/dump.play.50frames&quot;</span>
    <span class="n">X1</span> <span class="o">=</span> <span class="n">dump</span><span class="p">(</span><span class="n">f1</span><span class="p">)</span>
    <span class="n">X1</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span>
    <span class="n">X1</span><span class="o">.</span><span class="n">type</span>
    <span class="n">X50</span> <span class="o">=</span> <span class="n">dump</span><span class="p">(</span><span class="n">f2</span><span class="p">)</span>
    <span class="n">X50</span><span class="o">.</span><span class="n">kind</span><span class="p">()</span>
    <span class="n">X50</span><span class="o">.</span><span class="n">type</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X50</span> <span class="o">+</span> <span class="n">X1</span>
    <span class="n">xy</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">vecs</span><span class="p">(</span><span class="mi">82500</span><span class="p">,(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">))</span>
</pre>
    </div>
    </div>
<div id="pizza_forcefield" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">w</span> <span class="o">=</span> <span class="n">water</span><span class="p">(</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;fluid&quot;</span><span class="p">)</span>
    <span class="n">w</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">Cp</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">w</span><span class="p">)</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">solidfood</span><span class="p">(</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;elastic&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">rigidwall</span><span class="p">(</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;wall&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">r</span><span class="p">)</span>
</pre>
    </div>
    </div>
<div id="pizza_generic" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">mylibrary</span> <span class="o">=</span> <span class="n">USERSMD</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;currentsim&quot;</span><span class="p">,</span><span class="n">h</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">w</span> <span class="o">=</span> <span class="n">mylibrary</span><span class="o">.</span><span class="n">newtonianfluid</span><span class="p">(</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="s2">&quot;fluid&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span><span class="n">w</span><span class="p">)</span>
</pre>
    </div>
    </div>
<div id="pizza_group" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>Example Usage</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">G</span> <span class="o">=</span> <span class="n">group</span><span class="p">()</span>
    <span class="n">G</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s2">&quot;groupname&quot;</span><span class="p">,</span><span class="s2">&quot;variablename&quot;</span><span class="p">,</span><span class="s2">&quot;myexpression myexpression myexpression myexpression and again 1234&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">disp</span><span class="p">(</span><span class="s2">&quot;groupname&quot;</span><span class="p">))</span>
    <span class="n">G</span><span class="o">.</span><span class="n">byregion</span><span class="p">(</span><span class="s2">&quot;regiongroup&quot;</span><span class="p">,</span><span class="s2">&quot;myregionID&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">disp</span><span class="p">(</span><span class="s2">&quot;regiongroup&quot;</span><span class="p">))</span>
    <span class="n">G</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="s2">&quot;uniongroup&quot;</span><span class="p">,</span><span class="s2">&quot;group1&quot;</span><span class="p">,</span><span class="s2">&quot;group2&quot;</span><span class="p">,</span><span class="s2">&quot;group3&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">disp</span><span class="p">(</span><span class="s2">&quot;uniongroup&quot;</span><span class="p">))</span>
</pre>
    </div>
    <p>LAMMPS example<br>group myGroup region myRegion<br>group typeGroup type 1 2<br>variable myVar atom &quot;x + y&quot;<br>group varGroup variable myVar<br>group unionGroup union myGroup typeGroup<br>Assuming Operation class is properly defined and includes necessary methods</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">G0</span> <span class="o">=</span> <span class="n">group</span><span class="p">()</span>
    <span class="n">G0</span><span class="o">.</span><span class="n">byregion</span><span class="p">(</span><span class="s1">&#39;myGroup&#39;</span><span class="p">,</span> <span class="s1">&#39;myRegion&#39;</span><span class="p">)</span>
    <span class="n">G0</span><span class="o">.</span><span class="n">bytype</span><span class="p">(</span><span class="s1">&#39;typeGroup&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
    <span class="n">G0</span><span class="o">.</span><span class="n">variable</span><span class="p">(</span><span class="s1">&#39;myVar&#39;</span><span class="p">,</span> <span class="s1">&#39;x + y&#39;</span><span class="p">)</span>
    <span class="n">G0</span><span class="o">.</span><span class="n">byvariable</span><span class="p">(</span><span class="s1">&#39;varGroup&#39;</span><span class="p">,</span> <span class="s1">&#39;myVar&#39;</span><span class="p">)</span>
</pre>
    </div>
    <p>Perform group operations</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="n">union_op</span> <span class="o">=</span> <span class="n">G0</span><span class="p">[</span><span class="s1">&#39;myGroup&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">G0</span><span class="p">[</span><span class="s1">&#39;typeGroup&#39;</span><span class="p">]</span>
    <span class="n">G0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;unionGroup&#39;</span><span class="p">,</span> <span class="n">union_op</span><span class="p">)</span>
</pre>
    </div>
    <p>Generate LAMMPS script</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="n">G0</span><span class="o">.</span><span class="n">code</span><span class="p">())</span>
</pre>
    </div>
    <p>Advanced Usage</p>

    <button type="button" class="collapsible">Show Code Example 5</button>
    <div class="content">
    <pre class="code"><span class="n">G</span> <span class="o">=</span> <span class="n">group</span><span class="p">()</span>
    <span class="n">G</span><span class="o">.</span><span class="n">create_groups</span><span class="p">(</span><span class="s1">&#39;o1&#39;</span><span class="p">,</span> <span class="s1">&#39;o2&#39;</span><span class="p">,</span> <span class="s1">&#39;o3&#39;</span><span class="p">,</span> <span class="s1">&#39;o4&#39;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;o5&#39;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;o6&#39;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;o7&#39;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;debug0&quot;</span><span class="p">,</span><span class="n">G</span><span class="o">.</span><span class="n">o1</span><span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o2</span><span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o3</span> <span class="o">+</span> <span class="n">G</span><span class="o">.</span><span class="n">o4</span> <span class="o">+</span> <span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">o5</span> <span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o6</span><span class="p">)</span> <span class="o">+</span> <span class="n">G</span><span class="o">.</span><span class="n">o7</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;debug1&quot;</span><span class="p">,</span><span class="n">G</span><span class="o">.</span><span class="n">o1</span><span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o2</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s2">&quot;debug2&quot;</span><span class="p">,</span><span class="n">G</span><span class="o">.</span><span class="n">o1</span><span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o2</span><span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o3</span><span class="o">-</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">o4</span><span class="o">+</span><span class="n">G</span><span class="o">.</span><span class="n">o5</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">o6</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">o7</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">G</span><span class="p">))</span>
</pre>
    </div>
    <p>Example to prepare workshop</p>

    <button type="button" class="collapsible">Show Code Example 6</button>
    <div class="content">
    <pre class="code"><span class="n">G</span> <span class="o">=</span> <span class="n">group</span><span class="p">()</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_group_criteria</span><span class="p">(</span><span class="s2">&quot;lower&quot;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_group_criteria</span><span class="p">(</span><span class="s2">&quot;central&quot;</span><span class="p">,</span> <span class="n">region</span><span class="o">=</span><span class="s2">&quot;central_cyl&quot;</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_group_criteria</span><span class="p">(</span><span class="s2">&quot;new_group&quot;</span><span class="p">,</span> <span class="n">create</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_group_criteria</span><span class="p">(</span><span class="s2">&quot;upper&quot;</span><span class="p">,</span> <span class="n">clear</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_group_criteria</span><span class="p">(</span><span class="s2">&quot;subtract_group&quot;</span><span class="p">,</span> <span class="n">subtract</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;group1&quot;</span><span class="p">,</span> <span class="s2">&quot;group2&quot;</span><span class="p">])</span>
</pre>
    </div>
    </div>
<div id="pizza_private_mstruct" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>=============================================================================<br># very advanced<br>import os<br>from fitness.private.loadods import alias<br>local = &quot;C:/Users/olivi/OneDrive/Data/Olivier/INRA/Etudiants &amp; visiteurs/Steward Ouadi/python/test/output/&quot;<br>odsfile = &quot;fileid_conferences_FoodRisk.ods&quot;<br>fullfodsfile = os.path.join(local,odsfile)<br>p = alias(fullfodsfile)<br>p.disp()<br>=============================================================================<br>new feature</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">a</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">a</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span>
</pre>
    </div>
    <p>path example</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">s0</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">pstr</span><span class="p">(</span><span class="s2">&quot;/tmp/&quot;</span><span class="p">),</span><span class="n">b</span><span class="o">=</span><span class="n">pstr</span><span class="p">(</span><span class="s2">&quot;test////&quot;</span><span class="p">),</span><span class="n">c</span><span class="o">=</span><span class="n">pstr</span><span class="p">(</span><span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">/$</span><span class="si">{b}</span><span class="s2">&quot;</span><span class="p">),</span><span class="n">d</span><span class="o">=</span><span class="n">pstr</span><span class="p">(</span><span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">/$</span><span class="si">{c}</span><span class="s2">&quot;</span><span class="p">),</span><span class="n">e</span><span class="o">=</span><span class="n">pstr</span><span class="p">(</span><span class="s2">&quot;$c/$a&quot;</span><span class="p">))</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">struct</span><span class="o">.</span><span class="n">struct2param</span><span class="p">(</span><span class="n">s0</span><span class="p">,</span><span class="n">protection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
    <span class="n">s</span><span class="o">.</span><span class="n">a</span><span class="o">/</span><span class="n">s</span><span class="o">.</span><span class="n">b</span>
    <span class="nb">str</span><span class="p">(</span><span class="n">pstr</span><span class="o">.</span><span class="n">topath</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">s</span><span class="o">.</span><span class="n">a</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">s</span><span class="o">.</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="n">s</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
</pre>
    </div>
    <p>escape example</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="n">definitions</span> <span class="o">=</span> <span class="n">param</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">*10+$</span><span class="si">{a}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s2">&quot;\$</span><span class="si">{a}</span><span class="s2">+10&quot;</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="s1">&#39;\$</span><span class="si">{myparam}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">definitions</span><span class="o">.</span><span class="n">formateval</span><span class="p">(</span><span class="s2">&quot;this my text $</span><span class="si">{a}</span><span class="s2">, $</span><span class="si">{b}</span><span class="s2">, \$</span><span class="si">{myvar}</span><span class="s2">=$</span><span class="si">{c}</span><span class="s2">+$</span><span class="si">{d}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">definitions</span> <span class="o">=</span> <span class="n">param</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="s2">&quot;$a*10+$a&quot;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s2">&quot;\$a+10&quot;</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="s1">&#39;\$myparam&#39;</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">definitions</span><span class="o">.</span><span class="n">formateval</span><span class="p">(</span><span class="s2">&quot;this my text $a, $b, \$myvar=$c+$d&quot;</span><span class="p">,</span><span class="n">protection</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre>
    </div>
    <p>assignment</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="n">s</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">s</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
</pre>
    </div>
    <p>conversion</p>

    <button type="button" class="collapsible">Show Code Example 5</button>
    <div class="content">
    <pre class="code"><span class="n">s</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;a&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
    <span class="n">t</span><span class="o">=</span><span class="n">struct</span><span class="o">.</span><span class="n">dict2struct</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">t</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
    <span class="n">sback</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">struct2dict</span><span class="p">()</span>
    <span class="n">sback</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span>
</pre>
    </div>
    <p>file definition</p>

    <button type="button" class="collapsible">Show Code Example 6</button>
    <div class="content">
    <pre class="code"><span class="n">p</span><span class="o">=</span><span class="n">struct</span><span class="o">.</span><span class="n">fromkeysvalues</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">struct2param</span><span class="p">()</span>
    <span class="n">ptxt</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">protect</span><span class="p">(</span><span class="s2">&quot;$c=$a+$b&quot;</span><span class="p">)</span>
    <span class="n">definitions</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;../../tmp/test.txt&quot;</span><span class="p">)</span>
</pre>
    </div>
    <p>populate/inherit fields</p>

    <button type="button" class="collapsible">Show Code Example 7</button>
    <div class="content">
    <pre class="code"><span class="n">default</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
    <span class="n">tst</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">tst</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">default</span><span class="p">)</span>
    <span class="n">tst</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
</pre>
    </div>
    <p>multiple assigment</p>

    <button type="button" class="collapsible">Show Code Example 8</button>
    <div class="content">
    <pre class="code"><span class="n">a</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">struct</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">a</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
    <span class="n">a</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)]</span>
</pre>
    </div>
    <p>reorganize definitions to enable param.eval()</p>

    <button type="button" class="collapsible">Show Code Example 9</button>
    <div class="content">
    <pre class="code"><span class="n">s</span> <span class="o">=</span> <span class="n">param</span><span class="p">(</span>
        <span class="n">a</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="n">f</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{e}</span><span class="s2">/3&quot;</span><span class="p">,</span>
        <span class="n">e</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">*$</span><span class="si">{c}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">c</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">+$</span><span class="si">{b}</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="n">d</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{c}</span><span class="s2">*2&quot;</span>
        <span class="p">)</span>
</pre>
    </div>
    <p>s[0:2] = [1,2]</p>

    <button type="button" class="collapsible">Show Code Example 10</button>
    <div class="content">
    <pre class="code"><span class="n">s</span><span class="o">.</span><span class="n">isexpression</span>
    <span class="n">struct</span><span class="o">.</span><span class="n">isstrdefined</span><span class="p">(</span><span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">+$</span><span class="si">{b}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">s</span><span class="p">)</span>
    <span class="n">s</span><span class="o">.</span><span class="n">isdefined</span><span class="p">()</span>
    <span class="n">s</span><span class="o">.</span><span class="n">sortdefinitions</span><span class="p">()</span>
    <span class="n">s</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">param</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">+1&quot;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{a}</span><span class="s2">+$</span><span class="si">{d}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">disp</span><span class="p">()</span>
</pre>
    </div>
    </div>
<div id="pizza_private_utils" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">updatepptx</span><span class="p">()</span>
</pre>
    </div>
    </div>
<div id="pizza_raster" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>%% basic example</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
    <span class="n">R</span> <span class="o">=</span> <span class="n">raster</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;rect1&#39;</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;rect2&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">beadtype2</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mf">0.2</span><span class="p">))</span>
    <span class="n">R</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">beadtype2</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mf">0.25</span><span class="p">))</span>
    <span class="n">R</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">shaperatio</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">angle</span><span class="o">=-</span><span class="mi">30</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;p2&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">shaperatio</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;p3&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">shaperatio</span><span class="o">=</span><span class="mf">1.3</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">beadtype2</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mf">0.1</span><span class="p">))</span>
    <span class="n">R</span><span class="o">.</span><span class="n">triangle</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;T1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">diamond</span><span class="p">(</span><span class="mi">85</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;D1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">beadtype2</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span>
    <span class="n">R</span><span class="o">.</span><span class="n">pentagon</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;P1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">hexagon</span><span class="p">(</span><span class="mi">47</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;rect003&quot;</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">R</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;rect003&quot;</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">unlabel</span><span class="p">(</span><span class="s1">&#39;rect1&#39;</span><span class="p">)</span>
    <span class="n">X</span><span class="o">=</span><span class="n">R</span><span class="o">.</span><span class="n">data</span><span class="p">()</span>
</pre>
    </div>
    <p>%% another example</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">S</span> <span class="o">=</span> <span class="n">raster</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">850</span><span class="p">,</span><span class="mi">850</span><span class="p">,</span><span class="mi">1000</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;top&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span><span class="mi">850</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">150</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">480</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;mask&quot;</span><span class="p">,</span><span class="n">ismask</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">triangle</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span><span class="mi">880</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;tooth1&#39;</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">triangle</span><span class="p">(</span><span class="mi">750</span><span class="p">,</span><span class="mi">880</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;tooth2&#39;</span><span class="p">,</span><span class="n">angle</span><span class="o">=-</span><span class="mi">0</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;tongue&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">shaperatio</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="mi">450</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="mi">320</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;food&quot;</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">S</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">S</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">,</span><span class="n">contour</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre>
    </div>
    <p>%% advanced example<br>plt.close(&quot;all&quot;)</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="n">draft</span> <span class="o">=</span> <span class="n">raster</span><span class="p">()</span>
    <span class="n">draft</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;rect1&#39;</span><span class="p">),</span>
    <span class="n">draft</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">81</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;rect2&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">40</span><span class="p">),</span>
    <span class="n">draft</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">draft</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">draft</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;C2&#39;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span>
    <span class="n">draft</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;X&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">raster</span><span class="p">()</span>
    <span class="n">A</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="n">draft</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">translate</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">30</span><span class="p">])</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
    <span class="n">A</span><span class="o">.</span><span class="n">objects</span>
    <span class="n">A</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">A</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">)</span>
    <span class="n">A</span><span class="o">.</span><span class="n">objects</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">raster</span><span class="p">()</span>
</pre>
    </div>
    <p>B.collection(X=draft.X,beadtype=1,translate=[50,50])</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="n">B</span><span class="o">.</span><span class="n">copyalongpath</span><span class="p">(</span><span class="n">draft</span><span class="o">.</span><span class="n">X</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;PX&quot;</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                    <span class="n">path</span><span class="o">=</span><span class="n">arc</span><span class="p">,</span>
                     <span class="n">xmin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                     <span class="n">ymin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                     <span class="n">xmax</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
                     <span class="n">ymax</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
                        <span class="n">n</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">B</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">B</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">)</span>
</pre>
    </div>
    <p>%% emulsion example</p>

    <button type="button" class="collapsible">Show Code Example 5</button>
    <div class="content">
    <pre class="code"><span class="n">C</span> <span class="o">=</span> <span class="n">raster</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">emulsion</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">390</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">390</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">30</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">40</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">13</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">C</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">e</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;emulsion&quot;</span><span class="p">)</span>
    <span class="n">C</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">C</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
    </div>
    <p>%% core-shell example</p>

    <button type="button" class="collapsible">Show Code Example 6</button>
    <div class="content">
    <pre class="code"><span class="n">D</span> <span class="o">=</span> <span class="n">raster</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
    <span class="n">cs</span> <span class="o">=</span> <span class="n">coreshell</span><span class="p">(</span><span class="n">xmin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">xmax</span><span class="o">=</span><span class="mi">390</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">390</span><span class="p">)</span>
    <span class="n">cs</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">60</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">thickness</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">D</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">cs</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;core-shell&quot;</span><span class="p">)</span>
    <span class="n">D</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">D</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre>
    </div>
    <p>%% overlay example</p>

    <button type="button" class="collapsible">Show Code Example 7</button>
    <div class="content">
    <pre class="code"><span class="n">I</span> <span class="o">=</span> <span class="n">raster</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
    <span class="n">I</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;pix0&quot;</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;./sandbox/image.jpg&quot;</span><span class="p">,</span><span class="n">ncolors</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">))</span>
    <span class="n">I</span><span class="o">.</span><span class="n">overlay</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;pix2&quot;</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;./sandbox/image.jpg&quot;</span><span class="p">,</span><span class="n">ncolors</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">angle</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.1</span><span class="p">))</span>
    <span class="n">I</span><span class="o">.</span><span class="n">label</span><span class="p">(</span><span class="s2">&quot;pix0&quot;</span><span class="p">)</span>
    <span class="n">I</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
    <span class="n">I</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;label&quot;</span><span class="p">)</span>
    <span class="n">I</span><span class="o">.</span><span class="n">pix0</span><span class="o">.</span><span class="n">original</span>
    <span class="n">I</span><span class="o">.</span><span class="n">pix0</span><span class="o">.</span><span class="n">raw</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">I</span><span class="o">.</span><span class="n">torgb</span><span class="p">(</span><span class="s2">&quot;objindex&quot;</span><span class="p">,(</span><span class="mi">512</span><span class="p">,</span><span class="mi">512</span><span class="p">))</span>
    <span class="n">a</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">a</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s2">&quot;./tmp/preview.png&quot;</span><span class="p">)</span>
</pre>
    </div>
    </div>
<div id="pizza_region" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">R</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my region&quot;</span><span class="p">,</span> <span class="n">mass</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre>
    </div>
    <p>Create a Block object using the block method of the region container with specific dimensions</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">block</span><span class="p">(</span><span class="n">xlo</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">xhi</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">ylo</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">yhi</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">zlo</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">zhi</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;B1&quot;</span><span class="p">,</span><span class="n">mass</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre>
    </div>
    <p>Access the natoms property of the Block object</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of atoms in the block:&quot;</span><span class="p">,</span> <span class="n">R</span><span class="o">.</span><span class="n">B1</span><span class="o">.</span><span class="n">natoms</span><span class="p">)</span>
</pre>
    </div>
    <p>early example</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="n">a</span><span class="o">=</span><span class="n">region</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;region A&quot;</span><span class="p">)</span>
    <span class="n">b</span><span class="o">=</span><span class="n">region</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;region B&quot;</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">]</span>
</pre>
    </div>
    <p>step 1</p>

    <button type="button" class="collapsible">Show Code Example 5</button>
    <div class="content">
    <pre class="code"><span class="n">R</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;my region&quot;</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">ellipsoid</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span><span class="n">toto</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">R</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">E1</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E1</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E1</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E1</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">c</span><span class="o">=</span><span class="s2">&quot;($</span><span class="si">{a}</span><span class="s2">,$</span><span class="si">{b}</span><span class="s2">,100)&quot;</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E1</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">d</span> <span class="o">=</span> <span class="s1">&#39;&quot;</span><span class="si">%s%s</span><span class="s1">&quot; %(&quot;test&quot;,$</span><span class="si">{c}</span><span class="s1">) # note that test could be replaced by any function&#39;</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E1</span>
    <span class="n">code1</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">E1</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">code1</span><span class="p">)</span>
</pre>
    </div>
    <p>step 2</p>

    <button type="button" class="collapsible">Show Code Example 6</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">ellipsoid</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;E2&quot;</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;out&quot;</span><span class="p">,</span><span class="n">move</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="s2">&quot;$</span><span class="si">{up}</span><span class="s2">*3&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">],</span><span class="n">up</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">left</span> <span class="o">=</span> <span class="s1">&#39;&quot;swiggle(</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">,</span><span class="si">%s</span><span class="s1">)&quot;%($</span><span class="si">{a}</span><span class="s1">,$</span><span class="si">{b}</span><span class="s1">,$</span><span class="si">{c}</span><span class="s1">)&#39;</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">a</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{b}</span><span class="s2">-5&quot;</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">b</span><span class="o">=</span><span class="mi">5</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="o">.</span><span class="n">VARIABLES</span><span class="o">.</span><span class="n">c</span><span class="o">=</span><span class="mi">100</span>
    <span class="n">code2</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
    <span class="nb">repr</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">code2</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">names</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
</pre>
    </div>
    <p>eval objects</p>

    <button type="button" class="collapsible">Show Code Example 7</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;E3&#39;</span><span class="p">,</span><span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">E3</span><span class="o">.</span><span class="n">beadtype</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">R</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s1">&#39;add&#39;</span><span class="p">,</span><span class="n">R</span><span class="o">.</span><span class="n">E1</span> <span class="o">+</span> <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="p">)</span>
    <span class="n">R</span><span class="o">.</span><span class="n">addd2</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">E1</span> <span class="o">+</span> <span class="n">R</span><span class="o">.</span><span class="n">E2</span>
    <span class="n">R</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">E1</span> <span class="o">|</span> <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="p">,</span><span class="s1">&#39;E12&#39;</span><span class="p">)</span>
</pre>
    </div>
    <p>How to manage pipelines</p>

    <button type="button" class="collapsible">Show Code Example 8</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span><span class="s2">&quot;pipeline&quot;</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">E2</span><span class="o">.</span><span class="n">script</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">script</span><span class="p">()</span> <span class="c1"># first execution</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">script</span><span class="p">()</span> <span class="c1"># do nothing</span>
    <span class="n">s</span> <span class="c1"># check</span>
</pre>
    </div>
    <p>reorganize scripts</p>

    <button type="button" class="collapsible">Show Code Example 9</button>
    <div class="content">
    <pre class="code"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span><span class="s2">&quot;change order&quot;</span><span class="p">,</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">p</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span> <span class="c1"># undo executions first</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">p</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
    <span class="n">sq</span> <span class="o">=</span> <span class="n">q</span><span class="o">.</span><span class="n">script</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">do</span><span class="p">())</span>
</pre>
    </div>
    <p>join sections</p>

    <button type="button" class="collapsible">Show Code Example 10</button>
    <div class="content">
    <pre class="code"><span class="n">liste</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">SECTIONS</span><span class="p">[</span><span class="s2">&quot;variables&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">R</span><span class="p">]</span>
    <span class="n">pliste</span> <span class="o">=</span> <span class="n">pipescript</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">liste</span><span class="p">)</span>
</pre>
    </div>
    <p>Example closer to production</p>

    <button type="button" class="collapsible">Show Code Example 11</button>
    <div class="content">
    <pre class="code"><span class="n">P</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;live test&quot;</span><span class="p">,</span><span class="n">width</span> <span class="o">=</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">P</span><span class="o">.</span><span class="n">ellipsoid</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;$</span><span class="si">{Ra}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;$</span><span class="si">{Rb}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;$</span><span class="si">{Rc}</span><span class="s2">&quot;</span><span class="p">,</span>
              <span class="n">name</span><span class="o">=</span><span class="s2">&quot;E1&quot;</span><span class="p">,</span> <span class="n">Ra</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span><span class="n">Rb</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">Rc</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">P</span><span class="o">.</span><span class="n">sphere</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">radius</span><span class="o">=</span><span class="s2">&quot;$</span><span class="si">{R}</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;S1&quot;</span><span class="p">,</span> <span class="n">R</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="n">P</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</pre>
    </div>
    <p>EXAMPLE: gel compression</p>

    <button type="button" class="collapsible">Show Code Example 12</button>
    <div class="content">
    <pre class="code"><span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">name</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;food&#39;</span><span class="p">,</span><span class="s1">&#39;tongue&#39;</span><span class="p">,</span><span class="s1">&#39;bottom&#39;</span><span class="p">]</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">10</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">spacer</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">scale</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span><span class="o">*</span><span class="n">scale</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">radius</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="n">h</span><span class="o">*</span><span class="n">scale</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">height</span><span class="p">]</span>
    <span class="n">position_original</span> <span class="o">=</span> <span class="p">[</span><span class="n">spacer</span><span class="o">+</span><span class="n">height</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">height</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">height</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                          <span class="n">height</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">height</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                          <span class="n">height</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                          <span class="mi">0</span><span class="p">]</span>
    <span class="n">beadtype</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">total_height</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="o">+</span><span class="n">spacer</span>
    <span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">-</span><span class="n">total_height</span><span class="o">/</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">position_original</span><span class="p">]</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;region container&#39;</span><span class="p">,</span>
                <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">radius</span><span class="p">),</span>
                <span class="n">height</span><span class="o">=</span><span class="n">total_height</span><span class="p">,</span>
                <span class="n">depth</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="nb">max</span><span class="p">(</span><span class="n">radius</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)):</span>
        <span class="n">B</span><span class="o">.</span><span class="n">cylinder</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                    <span class="n">c1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">c2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                    <span class="n">lo</span><span class="o">=</span><span class="n">position</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                    <span class="n">hi</span><span class="o">=</span><span class="n">position</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                    <span class="n">beadtype</span><span class="o">=</span><span class="n">beadtype</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">B</span><span class="o">.</span><span class="n">dolive</span><span class="p">()</span>
</pre>
    </div>
    <p>Draft for workshop</p>

    <button type="button" class="collapsible">Show Code Example 13</button>
    <div class="content">
    <pre class="code"><span class="n">sB</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
    <span class="n">b1</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">scriptobject</span><span class="p">()</span>
    <span class="n">b2</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scriptobject</span><span class="p">()</span>
    <span class="n">b3</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">scriptobject</span><span class="p">()</span>
    <span class="n">b4</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">scriptobject</span><span class="p">()</span>
    <span class="n">collection</span> <span class="o">=</span> <span class="n">b1</span> <span class="o">+</span> <span class="n">b2</span> <span class="o">+</span> <span class="n">b3</span> <span class="o">+</span> <span class="n">b4</span><span class="p">;</span>
</pre>
    </div>
    <p># emulsion example</p>

    <button type="button" class="collapsible">Show Code Example 14</button>
    <div class="content">
    <pre class="code"><span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># tested up to scale = 10 to reach million of beads</span>
    <span class="n">mag</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">e</span> <span class="o">=</span> <span class="n">emulsion</span><span class="p">(</span><span class="n">xmin</span><span class="o">=-</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span> <span class="n">ymin</span><span class="o">=-</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span> <span class="n">zmin</span><span class="o">=-</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span><span class="n">xmax</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span> <span class="n">zmax</span><span class="o">=</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.6</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.4</span><span class="p">,</span><span class="mf">1.3</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mf">0.6</span><span class="p">,</span><span class="mf">0.3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">1.3</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.4</span><span class="p">,</span><span class="mf">1.6</span><span class="p">,</span><span class="mf">1.7</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">e</span><span class="o">.</span><span class="n">insertion</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">5.2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mf">4.5</span><span class="p">,</span><span class="mf">1.2</span><span class="p">,</span><span class="mf">1.4</span><span class="p">,</span><span class="mf">1.6</span><span class="p">,</span><span class="mf">1.7</span><span class="p">],</span><span class="n">beadtype</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre>
    </div>
    <p>b = region()<br>a = region()<br>a.sphere(1,1,1,1,name=&#x27;sphere1&#x27;)<br>a.sphere(1,2,2,1,name=&#x27;sphere2&#x27;)<br>b.collection(a, name=&#x27;acollection&#x27;)</p>

    <button type="button" class="collapsible">Show Code Example 15</button>
    <div class="content">
    <pre class="code"><span class="n">C</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;cregion&#39;</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">11</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span><span class="n">height</span><span class="o">=</span><span class="mi">11</span><span class="o">*</span><span class="n">mag</span><span class="p">,</span><span class="n">depth</span><span class="o">=</span><span class="mi">11</span><span class="o">*</span><span class="n">mag</span><span class="p">)</span>
    <span class="n">C</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="n">C</span><span class="o">.</span><span class="n">script</span><span class="p">()</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">emulsion</span><span class="o">.</span><span class="n">group</span><span class="p">()</span>
    <span class="n">C</span><span class="o">.</span><span class="n">dolive</span><span class="p">()</span>
</pre>
    </div>
    <p>EXAMPLE: gel compression with SI units</p>

    <button type="button" class="collapsible">Show Code Example 16</button>
    <div class="content">
    <pre class="code"><span class="n">name</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="s1">&#39;food&#39;</span><span class="p">,</span> <span class="s1">&#39;tongue&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">]</span>
    <span class="n">radius</span> <span class="o">=</span> <span class="p">[</span><span class="mf">10e-3</span><span class="p">,</span> <span class="mf">5e-3</span><span class="p">,</span> <span class="mf">8e-3</span><span class="p">,</span> <span class="mf">10e-3</span><span class="p">]</span>  <span class="c1"># in m</span>
    <span class="n">height</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1e-3</span><span class="p">,</span> <span class="mf">4e-3</span><span class="p">,</span> <span class="mf">3e-3</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">]</span>  <span class="c1"># in m</span>
    <span class="n">spacer</span> <span class="o">=</span> <span class="mf">2e-3</span>  <span class="c1"># in m</span>
</pre>
    </div>
    <p>Calculate positions in SI units (meters)</p>

    <button type="button" class="collapsible">Show Code Example 17</button>
    <div class="content">
    <pre class="code"><span class="n">position_original</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">spacer</span> <span class="o">+</span> <span class="n">height</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">height</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">height</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="n">height</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">height</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="n">height</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="mi">0</span>
    <span class="p">]</span>
    <span class="n">total_height</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">height</span><span class="p">)</span> <span class="o">+</span> <span class="n">spacer</span> <span class="o">*</span> <span class="mf">1e-3</span>  <span class="c1"># converting spacer to meters</span>
</pre>
    </div>
    <p>Center positions around the middle of the container</p>

    <button type="button" class="collapsible">Show Code Example 18</button>
    <div class="content">
    <pre class="code"><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="n">total_height</span> <span class="o">/</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">position_original</span><span class="p">]</span>
</pre>
    </div>
    <p>information for beads<br>add attributes to forcefields to match your needs or derive new forcefields</p>

    <button type="button" class="collapsible">Show Code Example 19</button>
    <div class="content">
    <pre class="code"><span class="n">beadtypes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="n">groups</span> <span class="o">=</span> <span class="p">[[</span><span class="s2">&quot;rigid&quot;</span><span class="p">,</span><span class="s2">&quot;wall1&quot;</span><span class="p">],[</span><span class="s2">&quot;food1&quot;</span><span class="p">,</span><span class="s2">&quot;soft&quot;</span><span class="p">],[</span><span class="s2">&quot;food2&quot;</span><span class="p">,</span><span class="s2">&quot;soft&quot;</span><span class="p">],[</span><span class="s2">&quot;rigid&quot;</span><span class="p">,</span><span class="s2">&quot;wall2&quot;</span><span class="p">]]</span>
    <span class="n">forcefields</span> <span class="o">=</span> <span class="p">[</span><span class="n">rigidwall</span><span class="p">(),</span><span class="n">solidfood</span><span class="p">(),</span><span class="n">solidfood</span><span class="p">(),</span><span class="n">rigidwall</span><span class="p">()]</span>
</pre>
    </div>
    <p>Create the region container with SI units</p>

    <button type="button" class="collapsible">Show Code Example 20</button>
    <div class="content">
    <pre class="code"><span class="n">R</span> <span class="o">=</span> <span class="n">region</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s1">&#39;region container&#39;</span><span class="p">,</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="n">radius</span><span class="p">),</span>
        <span class="n">height</span><span class="o">=</span><span class="n">total_height</span><span class="p">,</span>
        <span class="n">depth</span><span class="o">=</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">max</span><span class="p">(</span><span class="n">radius</span><span class="p">),</span>
        <span class="n">regionunits</span><span class="o">=</span><span class="s2">&quot;si&quot;</span><span class="p">,</span>
        <span class="n">separationdistance</span><span class="o">=</span><span class="mf">100e-6</span><span class="p">,</span>  <span class="c1"># 50 µm</span>
        <span class="n">lattice_scale</span><span class="o">=</span><span class="mf">100e-6</span>  <span class="c1"># 50 µm</span>
    <span class="p">)</span>
</pre>
    </div>
    <p>Add cylinders to the region R<br>the objects are added &quot;statically&quot;<br>since they contain variables a do() is required to make them a script</p>

    <button type="button" class="collapsible">Show Code Example 21</button>
    <div class="content">
    <pre class="code"><span class="n">nobjects</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nobjects</span><span class="p">):</span>
        <span class="n">R</span><span class="o">.</span><span class="n">cylinder</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
            <span class="n">dim</span><span class="o">=</span><span class="s2">&quot;z&quot;</span><span class="p">,</span>  <span class="c1"># Assuming z-axis as the dimension</span>
            <span class="n">c1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">c2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">radius</span><span class="o">=</span><span class="n">radius</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
            <span class="n">lo</span><span class="o">=</span><span class="n">position</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
            <span class="n">hi</span><span class="o">=</span><span class="n">position</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">height</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
            <span class="n">beadtype</span><span class="o">=</span><span class="n">beadtypes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
            <span class="n">style</span><span class="o">=</span><span class="s2">&quot;smd&quot;</span><span class="p">,</span>      <span class="c1"># the script oject properties</span>
            <span class="n">group</span><span class="o">=</span><span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>  <span class="c1"># can be defined in the geometry or</span>
            <span class="n">forcefield</span><span class="o">=</span><span class="n">forcefields</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="c1"># when scriptoject() is called</span>
        <span class="p">)</span>
</pre>
    </div>
    <p>Compile statically all objects<br>sR contains the LAMMPS code to generate all region objects and their atoms<br>sR is a string, all variables have been executed</p>

    <button type="button" class="collapsible">Show Code Example 22</button>
    <div class="content">
    <pre class="code"><span class="n">sR</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">do</span><span class="p">()</span> <span class="c1"># this line force the execution of R</span>
</pre>
    </div>
    <p>Header Scripts facilitate the deployment and initialization of region objects.<br>------------- Summary ---------------<br>Available scripts include &quot;init&quot;, &quot;lattice&quot;, and &quot;box&quot;.<br>Multiple scripts can be generated simultaneously by specifying them in a list.<br>For example: [&quot;init&quot;, &quot;lattice&quot;, &quot;box&quot;] will generate all three scripts.<br>Script parameters and variables can be customized via R.headersData.<br>For instance: R.headersData.lattice_style = &quot;$sq&quot;<br>This overrides the lattice style, which was originally set in the region object.<br>The &quot;$&quot; prefix indicates that lattice_style is a static value.<br>Alternatively, R.headersData.lattice_style = [&quot;sq&quot;] can also be used.<br>--------------------------------------<br>use help(R.scriptHeaders) to get a full help<br>Note: sRheader is a string since a do()</p>

    <button type="button" class="collapsible">Show Code Example 23</button>
    <div class="content">
    <pre class="code"><span class="n">sRheader</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">scriptHeaders</span><span class="p">(</span><span class="s2">&quot;box&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">do</span><span class="p">()</span> <span class="c1"># generate the box that contains R</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">sRheader</span><span class="p">)</span>
</pre>
    </div>
    <p>To generate all header scripts in the specified order, use R.scriptHeaders.<br>Note: sRallheaders is a script object. Use sRallheaders.do() to convert it into a string.<br>Scripts can be dynamically combined using the + operator or statically with the &amp; operator.<br>Scripts can also be combined with pipescripts using the + or | (piped) operator.<br>Region and collection objects are considered pipescripts.<br><br>Comment on the differences between scripts and pipescripts:<br>- Scripts operate within a single variable space and cannot be reordered once combined.<br>- Pipescripts, however, include both global and local variable spaces and can be reordered,<br>and indexed, offering greater flexibility in complex simulations.<br><br>A property can be removed from the initialization process by setting it to None or &quot;&quot;<br>In this example, atom_style is removed as it also set with forcefields</p>

    <button type="button" class="collapsible">Show Code Example 24</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">headersData</span><span class="o">.</span><span class="n">atom_style</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">sRallheaders</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">scriptHeaders</span><span class="p">([</span><span class="s2">&quot;init&quot;</span><span class="p">,</span> <span class="s2">&quot;lattice&quot;</span><span class="p">,</span> <span class="s2">&quot;box&quot;</span><span class="p">]</span> <span class="p">)</span>
</pre>
    </div>
    <p>Generate information on beads from the scripted objects<br>note that scriptobject is a method of script extended to region<br>the region must have been preallably scripted, which has been done with &quot;sR = R.do()&quot;<br>Note that the current implementation include also style definitions in init</p>

    <button type="button" class="collapsible">Show Code Example 25</button>
    <div class="content">
    <pre class="code"><span class="n">b</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nobjects</span><span class="p">):</span>
</pre>
    </div>
    <p>style, group and forcefield can be overdefined if needed</p>

    <button type="button" class="collapsible">Show Code Example 26</button>
    <div class="content">
    <pre class="code"><span class="n">b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">R</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">scriptobject</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;smd&quot;</span><span class="p">))</span>
    <span class="n">collection</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre>
    </div>
    <p>The script corresponding to the collection is given by:<br>scollection is an object of the class script<br>its final execution can be still affected by variables</p>

    <button type="button" class="collapsible">Show Code Example 27</button>
    <div class="content">
    <pre class="code"><span class="n">scollection</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">script</span><span class="o">.</span><span class="n">do</span><span class="p">()</span>
</pre>
    </div>
    <p>Execute the region setup only for visualization (control only)</p>

    <button type="button" class="collapsible">Show Code Example 28</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">dolive</span><span class="p">()</span>
</pre>
    </div>
    <p>The detail of the geometry with an estimation of the number of atoms (control only)</p>

    <button type="button" class="collapsible">Show Code Example 29</button>
    <div class="content">
    <pre class="code"><span class="n">R</span><span class="o">.</span><span class="n">geometry</span>
</pre>
    </div>
    </div>
<div id="pizza_script" class="module-content" style="display:none;">
<button onclick="toggleAllCode(this)" class="collapsible">Toggle All Code Sections</button>
<p>example of scriptobject()</p>

    <button type="button" class="collapsible">Show Code Example 1</button>
    <div class="content">
    <pre class="code"><span class="n">b1</span> <span class="o">=</span> <span class="n">scriptobject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;bead 1&quot;</span><span class="p">,</span><span class="n">group</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">],</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;myfile1&#39;</span><span class="p">,</span><span class="n">forcefield</span><span class="o">=</span><span class="n">rigidwall</span><span class="p">())</span>
    <span class="n">b2</span> <span class="o">=</span> <span class="n">scriptobject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;bead 2&quot;</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">],</span><span class="n">filename</span> <span class="o">=</span> <span class="s1">&#39;myfile1&#39;</span><span class="p">,</span><span class="n">forcefield</span><span class="o">=</span><span class="n">rigidwall</span><span class="p">())</span>
    <span class="n">b3</span> <span class="o">=</span> <span class="n">scriptobject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;bead 3&quot;</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">],</span><span class="n">forcefield</span><span class="o">=</span><span class="n">solidfood</span><span class="p">())</span>
    <span class="n">b4</span> <span class="o">=</span> <span class="n">scriptobject</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;bead 4&quot;</span><span class="p">,</span> <span class="n">group</span> <span class="o">=</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span><span class="n">beadtype</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;myfile2&quot;</span><span class="p">,</span><span class="n">forcefield</span><span class="o">=</span><span class="n">water</span><span class="p">())</span>
    <span class="n">collection</span> <span class="o">=</span> <span class="n">b1</span><span class="o">+</span><span class="n">b2</span><span class="o">+</span><span class="n">b3</span><span class="o">+</span><span class="n">b4</span>
    <span class="n">grp_typ1</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">grpB</span> <span class="o">=</span> <span class="n">collection</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">B</span>
    <span class="n">collection</span><span class="o">.</span><span class="n">interactions</span>
</pre>
    </div>
    <p>main example of script()</p>

    <button type="button" class="collapsible">Show Code Example 2</button>
    <div class="content">
    <pre class="code"><span class="n">G</span> <span class="o">=</span> <span class="n">globalsection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">G</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">initializesection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">g</span> <span class="o">=</span> <span class="n">geometrysection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">discretizationsection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">boundarysection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">interactionsection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">integrationsection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">dumpsection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">statussection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">runsection</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre>
    </div>
    <p># all sections as a single script</p>

    <button type="button" class="collapsible">Show Code Example 3</button>
    <div class="content">
    <pre class="code"><span class="n">myscript</span> <span class="o">=</span> <span class="n">G</span><span class="o">+</span><span class="n">c</span><span class="o">+</span><span class="n">g</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="n">t</span><span class="o">+</span><span class="n">d</span><span class="o">+</span><span class="n">s</span><span class="o">+</span><span class="n">r</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">pipescript</span><span class="p">()</span>
    <span class="n">p</span> <span class="o">|</span> <span class="n">i</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">collection</span> <span class="o">|</span> <span class="n">G</span>
    <span class="n">p</span> <span class="o">|</span> <span class="n">i</span>
    <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">p</span> <span class="o">|</span> <span class="n">p</span>
    <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">*</span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">80</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1"> this is the full script</span><span class="se">\n\n</span><span class="s1">&#39;</span><span class="p">,</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">80</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">myscript</span><span class="o">.</span><span class="n">do</span><span class="p">())</span>
</pre>
    </div>
    <p>pipe full demo</p>

    <button type="button" class="collapsible">Show Code Example 4</button>
    <div class="content">
    <pre class="code"><span class="n">p</span> <span class="o">=</span> <span class="n">G</span> <span class="o">|</span> <span class="n">c</span> <span class="o">|</span> <span class="n">g</span> <span class="o">|</span> <span class="n">d</span> <span class="o">|</span> <span class="n">b</span> <span class="o">|</span> <span class="n">i</span> <span class="o">|</span> <span class="n">t</span> <span class="o">|</span> <span class="n">d</span> <span class="o">|</span> <span class="n">s</span> <span class="o">|</span> <span class="n">r</span>
    <span class="n">p</span><span class="o">.</span><span class="n">rename</span><span class="p">([</span><span class="s2">&quot;G&quot;</span><span class="p">,</span><span class="s2">&quot;c&quot;</span><span class="p">,</span><span class="s2">&quot;g&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">,</span><span class="s2">&quot;i&quot;</span><span class="p">,</span><span class="s2">&quot;t&quot;</span><span class="p">,</span><span class="s2">&quot;d&quot;</span><span class="p">,</span><span class="s2">&quot;s&quot;</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">])</span>
    <span class="n">cmd</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">do</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
    <span class="n">sp</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">script</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">])</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">collection</span> <span class="o">|</span> <span class="n">p</span>
    <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span>
</pre>
    </div>
    </div>

</div>
</div>
<footer>
<p>&copy; 2025 Pizza3 Project. All rights reserved.</p>
</footer>
<script>
// Toggle visibility of folder contents
function toggleFolder(element) {
    var content = element.nextElementSibling;
    if (content.style.display === "block") {
        content.style.display = "none";
    } else {
        content.style.display = "block";
    }
}

// Load documentation into the main panel
function loadDoc(moduleId) {
    var modules = document.getElementsByClassName('module-content');
    for (var i = 0; i < modules.length; i++) {
        modules[i].style.display = 'none';
    }
    var welcome = document.getElementById('welcome');
    welcome.style.display = 'none';
    var selected = document.getElementById(moduleId);
    if (selected) {
        selected.style.display = 'block';
    }
}

// Toggle All Code Sections
function toggleAllCode(button) {
    var moduleContent = button.parentElement;
    var collapsibles = moduleContent.querySelectorAll('.collapsible');
    var contents = moduleContent.querySelectorAll('.content');
    var shouldExpand = true;
    // Determine if we should expand or collapse based on the first content's display
    if (contents.length > 0 && (contents[0].style.display === 'block')) {
        shouldExpand = false;
    }
    collapsibles.forEach(function(collapsible, index) {
        var content = collapsibles[index].nextElementSibling;
        if (shouldExpand) {
            content.style.display = 'block';
            collapsible.textContent = 'Hide Code Example ' + (index + 1);
        } else {
            content.style.display = 'none';
            collapsible.textContent = 'Show Code Example ' + (index + 1);
        }
    });
    button.textContent = shouldExpand ? 'Collapse All Code Sections' : 'Expand All Code Sections';
}

// Initialize all collapsible buttons and handle URL hash on page load
document.addEventListener("DOMContentLoaded", function() {
    var coll = document.getElementsByClassName("collapsible");
    for (var i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var content = this.nextElementSibling;
            if (content.style.display === "block") {
                content.style.display = "none";
                this.textContent = this.textContent.replace('Hide', 'Show');
            } else {
                content.style.display = "block";
                this.textContent = this.textContent.replace('Show', 'Hide');
            }
        });
    }
    
    // Handle URL hash on page load to display the corresponding module examples
    var hash = window.location.hash.substring(1); // Remove the #
    if (hash) {
        loadDoc(hash);
    }
});

// Toggle Sidebar Functionality
const toggleButton = document.getElementById('toggleSidebar');
const nav = document.getElementById('nav');

toggleButton.addEventListener('click', () => {
    nav.classList.toggle('collapsed');
    document.body.classList.toggle('nav-open'); // Toggle overlay on small screens
    // Change icon based on sidebar state
    if(nav.classList.contains('collapsed')) {
        toggleButton.innerHTML = '<kbd>&#9776;</kbd>'; // Hamburger icon
        toggleButton.setAttribute('aria-expanded', 'false');
    } else {
        toggleButton.innerHTML = '<kbd>&#10005;</kbd>'; // Close icon (X)
        toggleButton.setAttribute('aria-expanded', 'true');
    }
});
</script>
</body>
</html>
